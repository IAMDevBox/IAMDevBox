<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A ...</title><meta name="description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed."><meta name="keywords" content="forgerock, forgeops, openshift, crc, identity-cloud"><meta name="author" content="IAMDevBox"><meta name="language" content="en-US">
<meta property="og:locale" content="en_US"><link rel="canonical" href="https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/"><meta property="og:title" content="Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A ...">
<meta property="og:description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/">
<meta property="og:site_name" content="IAMDevBox">
<meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="IAMDevBox - Identity and Access Management Blog"><meta property="article:published_time" content="2025-06-14T12:40:16-04:00">
<meta property="article:modified_time" content="2025-06-14T13:16:33-04:00">
<meta property="article:author" content="IAMDevBox">
<meta property="article:section" content="Posts"><meta property="article:tag" content="forgerock"><meta property="article:tag" content="forgeops"><meta property="article:tag" content="openshift"><meta property="article:tag" content="crc"><meta property="article:tag" content="identity-cloud"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A ...">
<meta name="twitter:description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg"><meta name="twitter:site" content="@iamdevbox"><meta name="twitter:creator" content="@iamdevbox"><meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#2e2e33"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide",
  "description": "Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.",
  "image": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.jpg",
  "author": {
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.png"
    }
  },
  "datePublished": "2025-06-14T12:40:16-04:00",
  "dateModified": "2025-06-14T13:16:33-04:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https:\/\/www.iamdevbox.com\/posts\/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide\/"
  },
  "wordCount":  506 ,
  "keywords": "[\"forgerock\",\"forgeops\",\"openshift\",\"crc\",\"identity-cloud\"]"
}
</script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Home",
      "item": "https:\/\/www.iamdevbox.com\/"
    },
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blog",
      "item": "https:\/\/www.iamdevbox.com\/posts\/"
    },
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide",
      "item": "https:\/\/www.iamdevbox.com\/posts\/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide\/"
    }]
}
</script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css" integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as="style">


<link rel="icon" href="https://www.iamdevbox.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.iamdevbox.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.iamdevbox.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.iamdevbox.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.iamdevbox.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css"></noscript>

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<meta property="og:url" content="https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/">
  <meta property="og:site_name" content="IAMDevBox">
  <meta property="og:title" content="Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide">
  <meta property="og:description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-14T12:40:16-04:00">
    <meta property="article:modified_time" content="2025-06-14T13:16:33-04:00">
    <meta property="article:tag" content="ForgeRock">
    <meta property="article:tag" content="Forgeops">
    <meta property="article:tag" content="Openshift">
    <meta property="article:tag" content="Crc">
    <meta property="article:tag" content="Identity Cloud">
      <meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:title" content="Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide">
<meta name="twitter:description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "All posts",
      "item": "https://www.iamdevbox.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide",
      "item": "https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide",
  "name": "Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide",
  "description": "Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.",
  "keywords": [
    "forgerock", "forgeops", "openshift", "crc", "identity-cloud"
  ],
  "articleBody": "Introduction Running ForgeRock ForgeOps on Red Hat OpenShift is a powerful way to simulate enterprise-grade IAM deployment scenarios. In this guide, we‚Äôll walk through setting up ForgeOps inside a local OpenShift environment using CodeReady Containers (CRC), which enables a fast and lightweight test environment for development or evaluation purposes.\nPrerequisites Before we begin, make sure your machine meets the following minimum specs:\n8 vCPUs 16 GB memory 45+ GB disk space OpenShift pull secret (available from Red Hat Hybrid Cloud Console) Install and configure CRC:\ncrc setup crc config set cpus 8 crc config set memory 16384 crc config view Start the OpenShift Cluster crc start # Optionally specify pull secret: # crc start -p ~/openshift/pull-secret.txt Once started, the console and login credentials will be displayed:\nWeb Console: https://console-openshift-console.apps-crc.testing Admin: kubeadmin / Developer: developer / developer Accessing the Cluster with oc Set up the CLI environment:\neval $(crc oc-env) oc login -u developer https://api.crc.testing:6443 Verify cluster status:\noc get nodes oc whoami Set Up an OpenShift Project oc new-project demo You can now use this project as the target for ForgeRock image streams and services.\nEnable Image Registry and Push Images Expose the default OpenShift image registry route:\noc patch configs.imageregistry.operator.openshift.io/cluster \\ --patch '{\"spec\":{\"defaultRoute\":true}}' --type=merge Log in to the internal registry:\ndocker login -u $(oc whoami) \\ -p $(oc whoami --show-token) \\ default-route-openshift-image-registry.apps-crc.testing Create the ForgeOps image stream and build/push ForgeRock IG:\noc create imagestream ig export PUSH_TO=default-route-openshift-image-registry.apps-crc.testing/demo cd /path/to/forgeops/bin ./forgeops build ig --tag 7.3.0 üîê Note: You must ensure the image is tagged with the fully qualified registry path.\nInstall ForgeOps Once the image is available:\n./forgeops install ig Check pod status:\noc get pods Expose the ForgeRock IG Service oc expose svc ig oc get routes -o yaml ig Example route:\nspec: host: ig-demo.apps-crc.testing You can now access ForgeRock IG via this route in your browser.\nConfigure SCC for NGINX (Optional) If you plan to deploy NGINX-based Ingress or Admission components, OpenShift may block containers running as root. Define a custom SCC:\napiVersion: security.openshift.io/v1 kind: SecurityContextConstraints metadata: name: nginx-admission-scc runAsUser: type: MustRunAs uid: 101 # Or 65532 depending on container ... Apply and assign SCC:\noc apply -f scc.yaml oc adm policy add-scc-to-user nginx-admission-scc -z ingress-nginx -n nginx Alternatively, for testing, use:\noc adm policy add-scc-to-user anyuid -z ingress-nginx -n nginx ‚ö†Ô∏è Production environments should use the minimal privilege model.\nMaintenance Tips Reclaim disk space and clean up pods:\noc delete pod --field-selector=status.phase==Succeeded --all-namespaces oc delete pod --field-selector=status.phase==Failed --all-namespaces Check for container errors:\noc get pod --all-namespaces | grep Evicted Conclusion Deploying ForgeOps on OpenShift CRC gives developers a powerful sandbox to validate identity components in a real-world Kubernetes environment. With proper configuration of image registries and security contexts, you can simulate everything from IG to IDM locally, speeding up development and testing cycles.\nReady to deploy the full ForgeRock stack? Just modify the forgeops install profile and replicate the image build process for AM and IDM.\n./forgeops build am --tag 7.3.0 ./forgeops build idm --tag 7.3.0 ./forgeops install --config-profile all Happy forging!\n",
  "wordCount" : "506",
  "inLanguage": "en",
  "image": "https://www.iamdevbox.com/IAMDevBox.com.jpg","datePublished": "2025-06-14T12:40:16-04:00",
  "dateModified": "2025-06-14T13:16:33-04:00",
  "author":{
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.iamdevbox.com/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.iamdevbox.com/favicon.ico"
    }
  }
}
</script><meta name="description" content="Learn how to deploy ForgeRock ForgeOps to a local Red Hat OpenShift CRC cluster using custom SCC policies, internal image registry, and oc tooling for a complete identity stack testbed.">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know\/"
            },
            "headline": "\"Is JWT Decoding Safe on the Frontend? Security Risks You Should Know\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-28T14:53:37Z",
            "dateModified": "2025-08-28T14:53:52Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction\/"
            },
            "headline": "\"What Is a JWT and How Does It Work? A Developer-Friendly Introduction\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-26T15:13:56Z",
            "dateModified": "2025-08-26T15:14:09Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react\/"
            },
            "headline": "\"Build Your Own JWT Decode Online Tool with Firebase Functions and React\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-25T19:38:05Z",
            "dateModified": "2025-08-25T19:38:19Z"
          }
  ]
}
</script>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "\"What are the minimum system requirements to run OpenShift CRC with ForgeOps?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"How do I push ForgeRock images to the internal OpenShift registry?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Why do ForgeOps containers fail to start without SCC adjustments?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Can I deploy the entire ForgeRock stack or just selected components like IG?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    }
  ]
}
</script>
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";
        script.onload = () => {
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        };
        document.head.appendChild(script);
    }
    });
    </script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6QCH29975"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B6QCH29975');
    </script>
    
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.iamdevbox.com/" accesskey="h" title="IAMDevBox (Alt + H)">IAMDevBox</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.iamdevbox.com/posts/" title="Read articles and updates">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/tools/" title="Explore developer tools">
                    <span>üß∞Tools</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/search/" title="Search this site">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.iamdevbox.com/">Home</a>&nbsp;¬ª&nbsp;<a href="https://www.iamdevbox.com/posts/">All posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide
    </h1>
    
    <div class="post-meta">3 min&nbsp;¬∑&nbsp;506 words&nbsp;¬∑&nbsp;IAMDevBox

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#prerequisites" aria-label="Prerequisites">Prerequisites</a></li>
                <li>
                    <a href="#start-the-openshift-cluster" aria-label="Start the OpenShift Cluster">Start the OpenShift Cluster</a></li>
                <li>
                    <a href="#accessing-the-cluster-with-oc" aria-label="Accessing the Cluster with oc">Accessing the Cluster with oc</a></li>
                <li>
                    <a href="#set-up-an-openshift-project" aria-label="Set Up an OpenShift Project">Set Up an OpenShift Project</a></li>
                <li>
                    <a href="#enable-image-registry-and-push-images" aria-label="Enable Image Registry and Push Images">Enable Image Registry and Push Images</a></li>
                <li>
                    <a href="#install-forgeops" aria-label="Install ForgeOps">Install ForgeOps</a></li>
                <li>
                    <a href="#expose-the-forgerock-ig-service" aria-label="Expose the ForgeRock IG Service">Expose the ForgeRock IG Service</a></li>
                <li>
                    <a href="#configure-scc-for-nginx-optional" aria-label="Configure SCC for NGINX (Optional)">Configure SCC for NGINX (Optional)</a></li>
                <li>
                    <a href="#maintenance-tips" aria-label="Maintenance Tips">Maintenance Tips</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>Running ForgeRock ForgeOps on Red Hat OpenShift is a powerful way to simulate enterprise-grade IAM deployment scenarios. In this guide, we‚Äôll walk through setting up ForgeOps inside a local OpenShift environment using CodeReady Containers (CRC), which enables a fast and lightweight test environment for development or evaluation purposes.</p>
<h2 id="prerequisites">Prerequisites<a hidden class="anchor" aria-hidden="true" href="#prerequisites">#</a></h2>
<p>Before we begin, make sure your machine meets the following minimum specs:</p>
<ul>
<li><strong>8 vCPUs</strong></li>
<li><strong>16 GB memory</strong></li>
<li><strong>45+ GB disk space</strong></li>
<li>OpenShift pull secret (available from <a href="https://console.redhat.com/openshift/create/local">Red Hat Hybrid Cloud Console</a>)</li>
</ul>
<p>Install and configure CRC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>crc setup
</span></span><span style="display:flex;"><span>crc config set cpus <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span>crc config set memory <span style="color:#ae81ff">16384</span>
</span></span><span style="display:flex;"><span>crc config view
</span></span></code></pre></div><h2 id="start-the-openshift-cluster">Start the OpenShift Cluster<a hidden class="anchor" aria-hidden="true" href="#start-the-openshift-cluster">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>crc start
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Optionally specify pull secret:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># crc start -p ~/openshift/pull-secret.txt</span>
</span></span></code></pre></div><p>Once started, the console and login credentials will be displayed:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Web Console: https://console-openshift-console.apps-crc.testing
</span></span><span style="display:flex;"><span>Admin: kubeadmin / &lt;password&gt;
</span></span><span style="display:flex;"><span>Developer: developer / developer
</span></span></code></pre></div><h2 id="accessing-the-cluster-with-oc">Accessing the Cluster with <code>oc</code><a hidden class="anchor" aria-hidden="true" href="#accessing-the-cluster-with-oc">#</a></h2>
<p>Set up the CLI environment:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>eval <span style="color:#66d9ef">$(</span>crc oc-env<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>oc login -u developer https://api.crc.testing:6443
</span></span></code></pre></div><p>Verify cluster status:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc get nodes
</span></span><span style="display:flex;"><span>oc whoami
</span></span></code></pre></div><h2 id="set-up-an-openshift-project">Set Up an OpenShift Project<a hidden class="anchor" aria-hidden="true" href="#set-up-an-openshift-project">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc new-project demo
</span></span></code></pre></div><p>You can now use this project as the target for ForgeRock image streams and services.</p>
<h2 id="enable-image-registry-and-push-images">Enable Image Registry and Push Images<a hidden class="anchor" aria-hidden="true" href="#enable-image-registry-and-push-images">#</a></h2>
<p>Expose the default OpenShift image registry route:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc patch configs.imageregistry.operator.openshift.io/cluster <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --patch <span style="color:#e6db74">&#39;{&#34;spec&#34;:{&#34;defaultRoute&#34;:true}}&#39;</span> --type<span style="color:#f92672">=</span>merge
</span></span></code></pre></div><p>Log in to the internal registry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker login -u <span style="color:#66d9ef">$(</span>oc whoami<span style="color:#66d9ef">)</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p <span style="color:#66d9ef">$(</span>oc whoami --show-token<span style="color:#66d9ef">)</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  default-route-openshift-image-registry.apps-crc.testing
</span></span></code></pre></div><p>Create the ForgeOps image stream and build/push ForgeRock IG:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc create imagestream ig
</span></span><span style="display:flex;"><span>export PUSH_TO<span style="color:#f92672">=</span>default-route-openshift-image-registry.apps-crc.testing/demo
</span></span><span style="display:flex;"><span>cd /path/to/forgeops/bin
</span></span><span style="display:flex;"><span>./forgeops build ig --tag 7.3.0
</span></span></code></pre></div><blockquote>
<p>üîê Note: You must ensure the image is tagged with the fully qualified registry path.</p></blockquote>
<h2 id="install-forgeops">Install ForgeOps<a hidden class="anchor" aria-hidden="true" href="#install-forgeops">#</a></h2>
<p>Once the image is available:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./forgeops install ig
</span></span></code></pre></div><p>Check pod status:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc get pods
</span></span></code></pre></div><h2 id="expose-the-forgerock-ig-service">Expose the ForgeRock IG Service<a hidden class="anchor" aria-hidden="true" href="#expose-the-forgerock-ig-service">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc expose svc ig
</span></span><span style="display:flex;"><span>oc get routes -o yaml ig
</span></span></code></pre></div><p>Example route:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">host</span>: <span style="color:#ae81ff">ig-demo.apps-crc.testing</span>
</span></span></code></pre></div><p>You can now access ForgeRock IG via this route in your browser.</p>
<h2 id="configure-scc-for-nginx-optional">Configure SCC for NGINX (Optional)<a hidden class="anchor" aria-hidden="true" href="#configure-scc-for-nginx-optional">#</a></h2>
<p>If you plan to deploy NGINX-based Ingress or Admission components, OpenShift may block containers running as root. Define a custom SCC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">security.openshift.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">SecurityContextConstraints</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">nginx-admission-scc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">runAsUser</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">type</span>: <span style="color:#ae81ff">MustRunAs</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">uid</span>: <span style="color:#ae81ff">101</span>  <span style="color:#75715e"># Or 65532 depending on container</span>
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>Apply and assign SCC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc apply -f scc.yaml
</span></span><span style="display:flex;"><span>oc adm policy add-scc-to-user nginx-admission-scc -z ingress-nginx -n nginx
</span></span></code></pre></div><p>Alternatively, for testing, use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc adm policy add-scc-to-user anyuid -z ingress-nginx -n nginx
</span></span></code></pre></div><blockquote>
<p>‚ö†Ô∏è Production environments should use the minimal privilege model.</p></blockquote>
<h2 id="maintenance-tips">Maintenance Tips<a hidden class="anchor" aria-hidden="true" href="#maintenance-tips">#</a></h2>
<p>Reclaim disk space and clean up pods:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc delete pod --field-selector<span style="color:#f92672">=</span>status.phase<span style="color:#f92672">==</span>Succeeded --all-namespaces
</span></span><span style="display:flex;"><span>oc delete pod --field-selector<span style="color:#f92672">=</span>status.phase<span style="color:#f92672">==</span>Failed --all-namespaces
</span></span></code></pre></div><p>Check for container errors:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>oc get pod --all-namespaces | grep Evicted
</span></span></code></pre></div><h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>Deploying ForgeOps on OpenShift CRC gives developers a powerful sandbox to validate identity components in a real-world Kubernetes environment. With proper configuration of image registries and security contexts, you can simulate everything from IG to IDM locally, speeding up development and testing cycles.</p>
<p>Ready to deploy the full ForgeRock stack? Just modify the <code>forgeops install</code> profile and replicate the image build process for AM and IDM.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./forgeops build am --tag 7.3.0
</span></span><span style="display:flex;"><span>./forgeops build idm --tag 7.3.0
</span></span><span style="display:flex;"><span>./forgeops install --config-profile all
</span></span></code></pre></div><p>Happy forging!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.iamdevbox.com/tags/forgerock/">ForgeRock</a></li>
      <li><a href="https://www.iamdevbox.com/tags/forgeops/">Forgeops</a></li>
      <li><a href="https://www.iamdevbox.com/tags/openshift/">Openshift</a></li>
      <li><a href="https://www.iamdevbox.com/tags/crc/">Crc</a></li>
      <li><a href="https://www.iamdevbox.com/tags/identity-cloud/">Identity Cloud</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.iamdevbox.com/posts/advanced-forgerock-forgeops-helm-deployment-on-openshift-crc-custom-images-secrets-and-security-contexts/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>Advanced ForgeRock ForgeOps Helm Deployment on OpenShift CRC: Custom Images, Secrets, and Security Contexts</span>
  </a>
  <a class="next" href="https://www.iamdevbox.com/posts/applying-java-modules-in-modern-microservice-architecture/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>Applying Java Modules in Modern Microservice Architecture</span>
  </a>
</nav>

  </footer>

  
  

  
  <section class="post-related-articles custom-section">
    <h2 class="custom-section-title">
      Related Articles
    </h2>
    
    
    <ul class="custom-list">
      
      
        
          <li class="custom-list-item">
            <a href="/posts/advanced-forgerock-forgeops-helm-deployment-on-openshift-crc-custom-images-secrets-and-security-contexts/" class="custom-link">
              Advanced ForgeRock ForgeOps Helm Deployment on OpenShift CRC: Custom Images, Secrets, and Security Contexts
            </a>
            <small class="custom-date">2025-06-14</small>
          </li>
          
        
      
        
      
        
          <li class="custom-list-item">
            <a href="/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/" class="custom-link">
              Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices
            </a>
            <small class="custom-date">2025-06-12</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/kubernetes-and-openshift-architecture-differences-and-real-world-use-cases/" class="custom-link">
              Kubernetes and OpenShift: Architecture, Differences, and Real-World Use Cases
            </a>
            <small class="custom-date">2025-06-11</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/forgerock-deep-dive/" class="custom-link">
              ForgeRock Technical Cluster
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      

      
    </ul>

    
  </section>
  

  <section class="post-recent-articles custom-section-alt">
    <h2 class="custom-section-title">
      Latest Articles
    </h2>
    
    
    
    <ul class="custom-list">
      
      
        
          
            <li class="custom-list-item">
              <a href="/posts/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know/" class="custom-link">
                Is JWT Decoding Safe on the Frontend? Security Risks You Should Know
              </a>
              <small class="custom-date">2025-08-28</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction/" class="custom-link">
                What Is a JWT and How Does It Work? A Developer-Friendly Introduction
              </a>
              <small class="custom-date">2025-08-26</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react/" class="custom-link">
                Build Your Own JWT Decode Online Tool with Firebase Functions and React
              </a>
              <small class="custom-date">2025-08-25</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/comparing-the-top-jwt-decode-tools-online-services-vs-local-libraries/" class="custom-link">
                Comparing the Top JWT Decode Tools: Online Services vs Local Libraries
              </a>
              <small class="custom-date">2025-08-14</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/how-online-jwt-decode-tools-work-build-one-yourself-step-by-step/" class="custom-link">
                How Online JWT Decode Tools Work: Build One Yourself Step-by-Step
              </a>
              <small class="custom-date">2025-08-07</small>
            </li>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
</article>
    </main>
    
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://www.iamdevbox.com/">IAMDevBox</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        window.requestAnimationFrame(() => {
            const savedScroll = localStorage.getItem("menu-scroll-position");
            if (savedScroll !== null) {
            menu.scrollLeft = savedScroll;
            }
        });

        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        };
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
