<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Testing SAML and OIDC Authorization Flows with Postman | IAMDevBox</title><meta name="description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often..."><meta name="keywords" content="SAML, OIDC, Authorization, Postman, API Testing"><meta name="author" content="IAMDevBox"><meta name="language" content="en-US">
<meta property="og:locale" content="en_US"><link rel="canonical" href="https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/"><meta property="og:title" content="Testing SAML and OIDC Authorization Flows with Postman | IAMDevBox">
<meta property="og:description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/">
<meta property="og:site_name" content="IAMDevBox">
<meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="IAMDevBox - Identity and Access Management Blog"><meta property="article:published_time" content="2025-05-26T11:50:50Z">
<meta property="article:modified_time" content="2025-06-11T14:30:31-04:00">
<meta property="article:author" content="IAMDevBox">
<meta property="article:section" content="Posts"><meta property="article:tag" content="SAML"><meta property="article:tag" content="OIDC"><meta property="article:tag" content="Authorization"><meta property="article:tag" content="Postman"><meta property="article:tag" content="API Testing"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Testing SAML and OIDC Authorization Flows with Postman | IAMDevBox">
<meta name="twitter:description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg"><meta name="twitter:site" content="@iamdevbox"><meta name="twitter:creator" content="@iamdevbox"><meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#2e2e33"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Testing SAML and OIDC Authorization Flows with Postman",
  "description": "OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...",
  "image": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.jpg",
  "author": {
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.png"
    }
  },
  "datePublished": "2025-05-26T11:50:50Z",
  "dateModified": "2025-06-11T14:30:31-04:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https:\/\/www.iamdevbox.com\/posts\/testing-saml-and-oidc-authorization-flows-with-postman\/"
  },
  "wordCount":  887 ,
  "keywords": "[\"SAML\",\"OIDC\",\"Authorization\",\"Postman\",\"API Testing\"]"
}
</script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Home",
      "item": "https:\/\/www.iamdevbox.com\/"
    },
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blog",
      "item": "https:\/\/www.iamdevbox.com\/posts\/"
    },
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Testing SAML and OIDC Authorization Flows with Postman",
      "item": "https:\/\/www.iamdevbox.com\/posts\/testing-saml-and-oidc-authorization-flows-with-postman\/"
    }]
}
</script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css" integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as="style">


<link rel="icon" href="https://www.iamdevbox.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.iamdevbox.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.iamdevbox.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.iamdevbox.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.iamdevbox.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css"></noscript>

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<meta property="og:url" content="https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/">
  <meta property="og:site_name" content="IAMDevBox">
  <meta property="og:title" content="Testing SAML and OIDC Authorization Flows with Postman">
  <meta property="og:description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-26T11:50:50+00:00">
    <meta property="article:modified_time" content="2025-06-11T14:30:31-04:00">
    <meta property="article:tag" content="SAML">
    <meta property="article:tag" content="OIDC">
    <meta property="article:tag" content="Authorization">
    <meta property="article:tag" content="Postman">
    <meta property="article:tag" content="API Testing">
      <meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:title" content="Testing SAML and OIDC Authorization Flows with Postman">
<meta name="twitter:description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "All posts",
      "item": "https://www.iamdevbox.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Testing SAML and OIDC Authorization Flows with Postman",
      "item": "https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Testing SAML and OIDC Authorization Flows with Postman",
  "name": "Testing SAML and OIDC Authorization Flows with Postman",
  "description": "OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...",
  "keywords": [
    "SAML", "OIDC", "Authorization", "Postman", "API Testing"
  ],
  "articleBody": "OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often associated with OIDC (OpenID Connect), SAML remains a popular choice for enterprise environments. Whether you‚Äôre building a new application or maintaining an existing one, testing the authorization flows for these protocols is crucial to ensure security and functionality.\nIn this blog post, we‚Äôll explore how to use Postman, a powerful API testing tool, to test both SAML and OIDC authorization flows. We‚Äôll cover the key concepts, step-by-step guides, and best practices to help you effectively validate your authorization processes.\nUnderstanding SAML and OIDC Authorization Flows Before diving into the testing process, it‚Äôs essential to understand the authorization flows for SAML and OIDC.\nSAML Authorization Flow SAML (Security Assertion Markup Language) is an XML-based protocol that facilitates single sign-on (SSO) across different domains. The typical flow involves:\nUser Authentication: The user logs in to the Identity Provider (IdP). SAML Assertion: The IdP generates a SAML token (assertion) containing user information and signs it. Token Transmission: The token is sent to the Service Provider (SP) via the user‚Äôs browser. Token Validation: The SP validates the token and grants access to the requested resource. OIDC Authorization Flow OIDC (OpenID Connect) is built on top of OAuth 2.0 and adds an identity layer to the authorization framework. The flow typically includes:\nAuthorization Request: The client redirects the user to the Authorization Server. User Consent: The user grants permission to the client. Token Issuance: The Authorization Server issues an access token and an ID token. Token Validation: The client uses the tokens to access resources from the Resource Server. Setting Up Postman for Authorization Testing Postman is a versatile tool that allows you to test APIs and authorization flows with ease. Here‚Äôs how to set it up for SAML and OIDC testing:\n1. Creating a New Collection Start by creating a new collection in Postman to organize your tests. Name it something descriptive, like ‚ÄúAuthorization Flow Tests.‚Äù\n2. Configuring Environments Set up environments to store variables such as client IDs, client secrets, and URLs for your IdP or Authorization Server. This makes it easier to switch between development, staging, and production environments.\n3. Adding Requests Create requests for each step of the authorization flow. For example:\nA GET request to initiate the authorization process. A POST request to exchange the authorization code for tokens. Testing SAML Authorization Flow with Postman Testing a SAML authorization flow involves simulating the interaction between the IdP, SP, and the user. Here‚Äôs a step-by-step guide:\nStep 1: Redirect to IdP Use Postman to send a GET request to the IdP‚Äôs login endpoint. For example:\nGET https://idp.example.com/saml/login?redirect_uri=https://sp.example.com/callback This will redirect the user to the IdP‚Äôs login page.\nStep 2: User Authentication Simulate user authentication by providing valid credentials. Postman allows you to send form-data or JSON in the request body. For example:\n{ \"username\": \"testuser\", \"password\": \"testpass123\" } Step 3: Validate the SAML Assertion After successful authentication, the IdP will redirect the user back to the SP with a SAML assertion. Use Postman to capture this response and validate the assertion. You can use tools like XMLLint or Postman‚Äôs built-in validators to check the SAML token.\nTesting OIDC Authorization Flow with Postman Testing an OIDC authorization flow involves simulating the OAuth 2.0 code flow. Here‚Äôs how to do it:\nStep 1: Redirect to Authorization Server Send a GET request to the Authorization Server‚Äôs endpoint to initiate the flow. For example:\nGET https://auth.example.com/authorize?response_type=code\u0026client_id=CLIENT_ID\u0026redirect_uri=https://client.example.com/callback This will redirect the user to the Authorization Server for consent.\nStep 2: User Consent Simulate user consent by providing the necessary permissions. Postman allows you to capture the authorization code from the redirect URL.\nStep 3: Exchange Code for Tokens Use the authorization code to exchange for tokens. Send a POST request to the token endpoint:\nPOST https://auth.example.com/token Include the following parameters in the request body:\n{ \"grant_type\": \"authorization_code\", \"code\": \"AUTHORIZATION_CODE\", \"client_id\": \"CLIENT_ID\", \"client_secret\": \"CLIENT_SECRET\", \"redirect_uri\": \"https://client.example.com/callback\" } Step 4: Validate Tokens Once you receive the tokens, use Postman to validate them. You can decode the JWT tokens to verify their contents and ensure they are signed correctly.\nCommon Challenges and Best Practices Challenges Handling Redirects: SAML and OIDC flows involve multiple redirects, which can be tricky to simulate in Postman. Token Validation: Manually validating tokens can be time-consuming. Security Considerations: Storing sensitive information like client secrets in Postman environments can pose security risks. Best Practices Use environment variables to store sensitive data. Automate token validation using Postman scripts or external tools. Test edge cases, such as invalid credentials or expired tokens. Real-World Case Study Let‚Äôs consider a real-world scenario where a company is integrating SAML and OIDC into their application. They use Postman to test the authorization flows and encounter the following issues:\nToken Validation Errors: The SP was unable to validate the SAML assertion due to a missing certificate. Redirect Issues: The authorization flow failed because the redirect URI did not match the registered callback URL. By systematically testing each step in Postman, the team identified and resolved these issues, ensuring a smooth deployment.\nConclusion Testing authorization flows for SAML and OIDC is a critical part of ensuring the security and functionality of your application. With Postman, you can efficiently simulate and validate these flows, identify potential issues.\n",
  "wordCount" : "887",
  "inLanguage": "en",
  "image": "https://www.iamdevbox.com/IAMDevBox.com.jpg","datePublished": "2025-05-26T11:50:50Z",
  "dateModified": "2025-06-11T14:30:31-04:00",
  "author":{
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.iamdevbox.com/posts/testing-saml-and-oidc-authorization-flows-with-postman/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.iamdevbox.com/favicon.ico"
    }
  }
}
</script><meta name="description" content="OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often...">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know\/"
            },
            "headline": "\"Is JWT Decoding Safe on the Frontend? Security Risks You Should Know\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-28T14:53:37Z",
            "dateModified": "2025-08-28T14:53:52Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction\/"
            },
            "headline": "\"What Is a JWT and How Does It Work? A Developer-Friendly Introduction\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-26T15:13:56Z",
            "dateModified": "2025-08-26T15:14:09Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react\/"
            },
            "headline": "\"Build Your Own JWT Decode Online Tool with Firebase Functions and React\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-25T19:38:05Z",
            "dateModified": "2025-08-25T19:38:19Z"
          }
  ]
}
</script>
    
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";
        script.onload = () => {
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        };
        document.head.appendChild(script);
    }
    });
    </script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6QCH29975"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B6QCH29975');
    </script>
    
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.iamdevbox.com/" accesskey="h" title="IAMDevBox (Alt + H)">IAMDevBox</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.iamdevbox.com/posts/" title="Read articles and updates">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/tools/" title="Explore developer tools">
                    <span>üß∞Tools</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/search/" title="Search this site">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.iamdevbox.com/">Home</a>&nbsp;¬ª&nbsp;<a href="https://www.iamdevbox.com/posts/">All posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Testing SAML and OIDC Authorization Flows with Postman
    </h1>
    
    <div class="post-meta">5 min&nbsp;¬∑&nbsp;887 words&nbsp;¬∑&nbsp;IAMDevBox

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#understanding-saml-and-oidc-authorization-flows" aria-label="Understanding SAML and OIDC Authorization Flows">Understanding SAML and OIDC Authorization Flows</a><ul>
                        
                <li>
                    <a href="#saml-authorization-flow" aria-label="SAML Authorization Flow">SAML Authorization Flow</a></li>
                <li>
                    <a href="#oidc-authorization-flow" aria-label="OIDC Authorization Flow">OIDC Authorization Flow</a></li></ul>
                </li>
                <li>
                    <a href="#setting-up-postman-for-authorization-testing" aria-label="Setting Up Postman for Authorization Testing">Setting Up Postman for Authorization Testing</a><ul>
                        
                <li>
                    <a href="#1-creating-a-new-collection" aria-label="1. Creating a New Collection">1. Creating a New Collection</a></li>
                <li>
                    <a href="#2-configuring-environments" aria-label="2. Configuring Environments">2. Configuring Environments</a></li>
                <li>
                    <a href="#3-adding-requests" aria-label="3. Adding Requests">3. Adding Requests</a></li></ul>
                </li>
                <li>
                    <a href="#testing-saml-authorization-flow-with-postman" aria-label="Testing SAML Authorization Flow with Postman">Testing SAML Authorization Flow with Postman</a><ul>
                        
                <li>
                    <a href="#step-1-redirect-to-idp" aria-label="Step 1: Redirect to IdP">Step 1: Redirect to IdP</a></li>
                <li>
                    <a href="#step-2-user-authentication" aria-label="Step 2: User Authentication">Step 2: User Authentication</a></li>
                <li>
                    <a href="#step-3-validate-the-saml-assertion" aria-label="Step 3: Validate the SAML Assertion">Step 3: Validate the SAML Assertion</a></li></ul>
                </li>
                <li>
                    <a href="#testing-oidc-authorization-flow-with-postman" aria-label="Testing OIDC Authorization Flow with Postman">Testing OIDC Authorization Flow with Postman</a><ul>
                        
                <li>
                    <a href="#step-1-redirect-to-authorization-server" aria-label="Step 1: Redirect to Authorization Server">Step 1: Redirect to Authorization Server</a></li>
                <li>
                    <a href="#step-2-user-consent" aria-label="Step 2: User Consent">Step 2: User Consent</a></li>
                <li>
                    <a href="#step-3-exchange-code-for-tokens" aria-label="Step 3: Exchange Code for Tokens">Step 3: Exchange Code for Tokens</a></li>
                <li>
                    <a href="#step-4-validate-tokens" aria-label="Step 4: Validate Tokens">Step 4: Validate Tokens</a></li></ul>
                </li>
                <li>
                    <a href="#common-challenges-and-best-practices" aria-label="Common Challenges and Best Practices">Common Challenges and Best Practices</a><ul>
                        
                <li>
                    <a href="#challenges" aria-label="Challenges">Challenges</a></li>
                <li>
                    <a href="#best-practices" aria-label="Best Practices">Best Practices</a></li></ul>
                </li>
                <li>
                    <a href="#real-world-case-study" aria-label="Real-World Case Study">Real-World Case Study</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>OAuth 2.0 and SAML are two of the most widely used protocols for authentication and authorization in modern web applications. While OAuth 2.0 is often associated with OIDC (OpenID Connect), SAML remains a popular choice for enterprise environments. Whether you&rsquo;re building a new application or maintaining an existing one, testing the authorization flows for these protocols is crucial to ensure security and functionality.</p>
<p>In this blog post, we&rsquo;ll explore how to use Postman, a powerful API testing tool, to test both SAML and OIDC authorization flows. We&rsquo;ll cover the key concepts, step-by-step guides, and best practices to help you effectively validate your authorization processes.</p>
<hr>
<h3 id="understanding-saml-and-oidc-authorization-flows"><strong>Understanding SAML and OIDC Authorization Flows</strong><a hidden class="anchor" aria-hidden="true" href="#understanding-saml-and-oidc-authorization-flows">#</a></h3>
<p>Before diving into the testing process, it&rsquo;s essential to understand the authorization flows for SAML and OIDC.</p>
<h4 id="saml-authorization-flow"><strong>SAML Authorization Flow</strong><a hidden class="anchor" aria-hidden="true" href="#saml-authorization-flow">#</a></h4>
<p>SAML (Security Assertion Markup Language) is an XML-based protocol that facilitates single sign-on (SSO) across different domains. The typical flow involves:</p>
<ol>
<li><strong>User Authentication</strong>: The user logs in to the Identity Provider (IdP).</li>
<li><strong>SAML Assertion</strong>: The IdP generates a SAML token (assertion) containing user information and signs it.</li>
<li><strong>Token Transmission</strong>: The token is sent to the Service Provider (SP) via the user&rsquo;s browser.</li>
<li><strong>Token Validation</strong>: The SP validates the token and grants access to the requested resource.</li>
</ol>
<h4 id="oidc-authorization-flow"><strong>OIDC Authorization Flow</strong><a hidden class="anchor" aria-hidden="true" href="#oidc-authorization-flow">#</a></h4>
<p>OIDC (OpenID Connect) is built on top of OAuth 2.0 and adds an identity layer to the authorization framework. The flow typically includes:</p>
<ol>
<li><strong>Authorization Request</strong>: The client redirects the user to the Authorization Server.</li>
<li><strong>User Consent</strong>: The user grants permission to the client.</li>
<li><strong>Token Issuance</strong>: The Authorization Server issues an access token and an ID token.</li>
<li><strong>Token Validation</strong>: The client uses the tokens to access resources from the Resource Server.</li>
</ol>
<hr>
<h3 id="setting-up-postman-for-authorization-testing"><strong>Setting Up Postman for Authorization Testing</strong><a hidden class="anchor" aria-hidden="true" href="#setting-up-postman-for-authorization-testing">#</a></h3>
<p>Postman is a versatile tool that allows you to test APIs and authorization flows with ease. Here&rsquo;s how to set it up for SAML and OIDC testing:</p>
<h4 id="1-creating-a-new-collection"><strong>1. Creating a New Collection</strong><a hidden class="anchor" aria-hidden="true" href="#1-creating-a-new-collection">#</a></h4>
<p>Start by creating a new collection in Postman to organize your tests. Name it something descriptive, like &ldquo;Authorization Flow Tests.&rdquo;</p>
<h4 id="2-configuring-environments"><strong>2. Configuring Environments</strong><a hidden class="anchor" aria-hidden="true" href="#2-configuring-environments">#</a></h4>
<p>Set up environments to store variables such as client IDs, client secrets, and URLs for your IdP or Authorization Server. This makes it easier to switch between development, staging, and production environments.</p>
<h4 id="3-adding-requests"><strong>3. Adding Requests</strong><a hidden class="anchor" aria-hidden="true" href="#3-adding-requests">#</a></h4>
<p>Create requests for each step of the authorization flow. For example:</p>
<ul>
<li>A GET request to initiate the authorization process.</li>
<li>A POST request to exchange the authorization code for tokens.</li>
</ul>
<hr>
<h3 id="testing-saml-authorization-flow-with-postman"><strong>Testing SAML Authorization Flow with Postman</strong><a hidden class="anchor" aria-hidden="true" href="#testing-saml-authorization-flow-with-postman">#</a></h3>
<p>Testing a SAML authorization flow involves simulating the interaction between the IdP, SP, and the user. Here&rsquo;s a step-by-step guide:</p>
<h4 id="step-1-redirect-to-idp"><strong>Step 1: Redirect to IdP</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-redirect-to-idp">#</a></h4>
<p>Use Postman to send a GET request to the IdP&rsquo;s login endpoint. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">GET https://idp.example.com/saml/login?redirect_uri=https://sp.example.com/callback
</span></span></span></code></pre></div><p>This will redirect the user to the IdP&rsquo;s login page.</p>
<h4 id="step-2-user-authentication"><strong>Step 2: User Authentication</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-user-authentication">#</a></h4>
<p>Simulate user authentication by providing valid credentials. Postman allows you to send form-data or JSON in the request body. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;testuser&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;password&#34;</span>: <span style="color:#e6db74">&#34;testpass123&#34;</span>  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><h4 id="step-3-validate-the-saml-assertion"><strong>Step 3: Validate the SAML Assertion</strong><a hidden class="anchor" aria-hidden="true" href="#step-3-validate-the-saml-assertion">#</a></h4>
<p>After successful authentication, the IdP will redirect the user back to the SP with a SAML assertion. Use Postman to capture this response and validate the assertion. You can use tools like <a href="https://xmlsoft.org/xmllint.html">XMLLint</a> or Postman&rsquo;s built-in validators to check the SAML token.</p>
<hr>
<h3 id="testing-oidc-authorization-flow-with-postman"><strong>Testing OIDC Authorization Flow with Postman</strong><a hidden class="anchor" aria-hidden="true" href="#testing-oidc-authorization-flow-with-postman">#</a></h3>
<p>Testing an OIDC authorization flow involves simulating the OAuth 2.0 code flow. Here&rsquo;s how to do it:</p>
<h4 id="step-1-redirect-to-authorization-server"><strong>Step 1: Redirect to Authorization Server</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-redirect-to-authorization-server">#</a></h4>
<p>Send a GET request to the Authorization Server&rsquo;s endpoint to initiate the flow. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">GET https://auth.example.com/authorize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=https://client.example.com/callback
</span></span></span></code></pre></div><p>This will redirect the user to the Authorization Server for consent.</p>
<h4 id="step-2-user-consent"><strong>Step 2: User Consent</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-user-consent">#</a></h4>
<p>Simulate user consent by providing the necessary permissions. Postman allows you to capture the authorization code from the redirect URL.</p>
<h4 id="step-3-exchange-code-for-tokens"><strong>Step 3: Exchange Code for Tokens</strong><a hidden class="anchor" aria-hidden="true" href="#step-3-exchange-code-for-tokens">#</a></h4>
<p>Use the authorization code to exchange for tokens. Send a POST request to the token endpoint:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">POST https://auth.example.com/token  
</span></span></span></code></pre></div><p>Include the following parameters in the request body:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;grant_type&#34;</span>: <span style="color:#e6db74">&#34;authorization_code&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;AUTHORIZATION_CODE&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;client_id&#34;</span>: <span style="color:#e6db74">&#34;CLIENT_ID&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;client_secret&#34;</span>: <span style="color:#e6db74">&#34;CLIENT_SECRET&#34;</span>,  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;redirect_uri&#34;</span>: <span style="color:#e6db74">&#34;https://client.example.com/callback&#34;</span>  
</span></span><span style="display:flex;"><span>}  
</span></span></code></pre></div><h4 id="step-4-validate-tokens"><strong>Step 4: Validate Tokens</strong><a hidden class="anchor" aria-hidden="true" href="#step-4-validate-tokens">#</a></h4>
<p>Once you receive the tokens, use Postman to validate them. You can decode the JWT tokens to verify their contents and ensure they are signed correctly.</p>
<hr>
<h3 id="common-challenges-and-best-practices"><strong>Common Challenges and Best Practices</strong><a hidden class="anchor" aria-hidden="true" href="#common-challenges-and-best-practices">#</a></h3>
<h4 id="challenges"><strong>Challenges</strong><a hidden class="anchor" aria-hidden="true" href="#challenges">#</a></h4>
<ul>
<li><strong>Handling Redirects</strong>: SAML and OIDC flows involve multiple redirects, which can be tricky to simulate in Postman.</li>
<li><strong>Token Validation</strong>: Manually validating tokens can be time-consuming.</li>
<li><strong>Security Considerations</strong>: Storing sensitive information like client secrets in Postman environments can pose security risks.</li>
</ul>
<h4 id="best-practices"><strong>Best Practices</strong><a hidden class="anchor" aria-hidden="true" href="#best-practices">#</a></h4>
<ul>
<li>Use environment variables to store sensitive data.</li>
<li>Automate token validation using Postman scripts or external tools.</li>
<li>Test edge cases, such as invalid credentials or expired tokens.</li>
</ul>
<hr>
<h3 id="real-world-case-study"><strong>Real-World Case Study</strong><a hidden class="anchor" aria-hidden="true" href="#real-world-case-study">#</a></h3>
<p>Let&rsquo;s consider a real-world scenario where a company is integrating SAML and OIDC into their application. They use Postman to test the authorization flows and encounter the following issues:</p>
<ol>
<li><strong>Token Validation Errors</strong>: The SP was unable to validate the SAML assertion due to a missing certificate.</li>
<li><strong>Redirect Issues</strong>: The authorization flow failed because the redirect URI did not match the registered callback URL.</li>
</ol>
<p>By systematically testing each step in Postman, the team identified and resolved these issues, ensuring a smooth deployment.</p>
<hr>
<h3 id="conclusion"><strong>Conclusion</strong><a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>Testing authorization flows for SAML and OIDC is a critical part of ensuring the security and functionality of your application. With Postman, you can efficiently simulate and validate these flows, identify potential issues.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.iamdevbox.com/tags/saml/">SAML</a></li>
      <li><a href="https://www.iamdevbox.com/tags/oidc/">OIDC</a></li>
      <li><a href="https://www.iamdevbox.com/tags/authorization/">Authorization</a></li>
      <li><a href="https://www.iamdevbox.com/tags/postman/">Postman</a></li>
      <li><a href="https://www.iamdevbox.com/tags/api-testing/">API Testing</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.iamdevbox.com/posts/designing-a-distributed-authorization-server-architecture/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>Designing a Distributed Authorization Server Architecture</span>
  </a>
  <a class="next" href="https://www.iamdevbox.com/posts/the-silent-threat-understanding-the-risks-of-user-impersonation-in-digital-identity/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>The Silent Threat: Understanding the Risks of User Impersonation in Digital Identity</span>
  </a>
</nav>

  </footer>

  
  

  
  <section class="post-related-articles custom-section">
    <h2 class="custom-section-title">
      Related Articles
    </h2>
    
    
    <ul class="custom-list">
      
      
        
          <li class="custom-list-item">
            <a href="/posts/how-to-debug-and-understand-saml-response-xml-a-practical-guide/" class="custom-link">
              How to Debug and Understand SAML Response XML: A Practical Guide
            </a>
            <small class="custom-date">2025-06-17</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/oauth2-deep-dive-with-forgerock-access-management/" class="custom-link">
              OAuth2 Deep Dive with ForgeRock Access Management
            </a>
            <small class="custom-date">2025-06-11</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/forgerock-am-script-customization-a-practical-guide/" class="custom-link">
              ForgeRock AM Script Customization: A Practical Guide
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/building-complete-oidc-login-flow-urls-in-forgerock-identity-cloud/" class="custom-link">
              Building Complete OIDC Login Flow URLs in ForgeRock Identity Cloud
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/forgerock-identity-gateway-api-security-best-practices/" class="custom-link">
              ForgeRock Identity Gateway: API Security Best Practices
            </a>
            <small class="custom-date">2025-06-02</small>
          </li>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      

      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
  

  <section class="post-recent-articles custom-section-alt">
    <h2 class="custom-section-title">
      Latest Articles
    </h2>
    
    
    
    <ul class="custom-list">
      
      
        
          
            <li class="custom-list-item">
              <a href="/posts/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know/" class="custom-link">
                Is JWT Decoding Safe on the Frontend? Security Risks You Should Know
              </a>
              <small class="custom-date">2025-08-28</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction/" class="custom-link">
                What Is a JWT and How Does It Work? A Developer-Friendly Introduction
              </a>
              <small class="custom-date">2025-08-26</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react/" class="custom-link">
                Build Your Own JWT Decode Online Tool with Firebase Functions and React
              </a>
              <small class="custom-date">2025-08-25</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/comparing-the-top-jwt-decode-tools-online-services-vs-local-libraries/" class="custom-link">
                Comparing the Top JWT Decode Tools: Online Services vs Local Libraries
              </a>
              <small class="custom-date">2025-08-14</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/how-online-jwt-decode-tools-work-build-one-yourself-step-by-step/" class="custom-link">
                How Online JWT Decode Tools Work: Build One Yourself Step-by-Step
              </a>
              <small class="custom-date">2025-08-07</small>
            </li>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
</article>
    </main>
    
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://www.iamdevbox.com/">IAMDevBox</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        window.requestAnimationFrame(() => {
            const savedScroll = localStorage.getItem("menu-scroll-position");
            if (savedScroll !== null) {
            menu.scrollLeft = savedScroll;
            }
        });

        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        };
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
