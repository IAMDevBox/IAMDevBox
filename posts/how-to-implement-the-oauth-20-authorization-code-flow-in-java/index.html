<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to Implement the OAuth 2.0 Authorization Code Flow in Java | IAMDevBox</title>
<meta name="keywords" content="OAuth 2.0, Java, Authorization Code Flow, Secure APIs, Identity Integration">
<meta name="author" content="IAMDevBox">
<link rel="canonical" href="https://www.iamdevbox.com/posts/how-to-implement-the-oauth-20-authorization-code-flow-in-java/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">


<link rel="icon" href="https://www.iamdevbox.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.iamdevbox.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.iamdevbox.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.iamdevbox.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.iamdevbox.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.iamdevbox.com/posts/how-to-implement-the-oauth-20-authorization-code-flow-in-java/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css"></noscript>

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<meta property="og:url" content="https://www.iamdevbox.com/posts/how-to-implement-the-oauth-20-authorization-code-flow-in-java/">
  <meta property="og:site_name" content="IAMDevBox">
  <meta property="og:title" content="How to Implement the OAuth 2.0 Authorization Code Flow in Java">
  <meta property="og:description" content="OAuth 2.0&#39;s Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In...">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-04T21:09:18+00:00">
    <meta property="article:modified_time" content="2025-06-06T19:33:33-04:00">
    <meta property="article:tag" content="OAuth 2.0">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Authorization Code Flow">
    <meta property="article:tag" content="Secure APIs">
    <meta property="article:tag" content="Identity Integration">
      <meta property="og:image" content="https://www.iamdevbox.com/static/IAMDevBox.com.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.iamdevbox.com/static/IAMDevBox.com.png">
<meta name="twitter:title" content="How to Implement the OAuth 2.0 Authorization Code Flow in Java">
<meta name="twitter:description" content="OAuth 2.0&#39;s Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In...">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "All posts",
      "item": "https://www.iamdevbox.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Implement the OAuth 2.0 Authorization Code Flow in Java",
      "item": "https://www.iamdevbox.com/posts/how-to-implement-the-oauth-20-authorization-code-flow-in-java/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Implement the OAuth 2.0 Authorization Code Flow in Java",
  "name": "How to Implement the OAuth 2.0 Authorization Code Flow in Java",
  "description": "OAuth 2.0's Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In...",
  "keywords": [
    "OAuth 2.0", "Java", "Authorization Code Flow", "Secure APIs", "Identity Integration"
  ],
  "articleBody": "OAuth 2.0‚Äôs Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In this guide, we‚Äôll walk through how to implement this flow in Java using industry-standard libraries ‚Äî and explain each step along the way.\nWhy Use the Authorization Code Flow in Java Web Apps? Java remains dominant in enterprise web application development, and OAuth 2.0 is the de facto standard for authorization. When building server-side rendered applications or backend services that interact with identity providers like ForgeRock, Auth0, or Okta, the Authorization Code Flow is the most secure option ‚Äî especially when combined with HTTPS and secure session management.\nüß† Unlike the Implicit Flow, the Authorization Code Flow keeps tokens out of the browser, reducing attack surfaces.\nArchitecture Overview Before diving into code, here‚Äôs how the Authorization Code Flow works conceptually:\n[User] ‚Üí [Java Web App] ‚Üí [Authorization Server (e.g., ForgeRock, Auth0)] ‚Üì Authorization Code ‚Üì [Java Web App] ‚Üî [Token Endpoint] ‚Üì Access Token / Refresh Token ‚Üì [Java Web App] ‚Üí [API Resource] Libraries \u0026 Tools You‚Äôll Need Spring Boot (or any Java web framework) Spring Security OAuth2 Client ‚Äì simplifies OAuth flow Maven or Gradle Optional: a secure credentials vault (e.g., HashiCorp Vault or AWS Secrets Manager) Step-by-Step Java Implementation 1. Configure Dependencies (Maven) Add the required dependencies for Spring Boot and OAuth2 Client support.\norg.springframework.boot spring-boot-starter-oauth2-client 2. Application Properties Configuration Configure the OAuth2 client settings to match your identity provider.\nspring.security.oauth2.client.registration.my-oauth-client.client-id=your-client-id spring.security.oauth2.client.registration.my-oauth-client.client-secret=your-client-secret spring.security.oauth2.client.registration.my-oauth-client.authorization-grant-type=authorization_code spring.security.oauth2.client.registration.my-oauth-client.redirect-uri={baseUrl}/login/oauth2/code/{registrationId} spring.security.oauth2.client.registration.my-oauth-client.scope=openid,profile,email spring.security.oauth2.client.provider.my-oauth-provider.authorization-uri=https://auth.example.com/oauth2/authorize spring.security.oauth2.client.provider.my-oauth-provider.token-uri=https://auth.example.com/oauth2/token spring.security.oauth2.client.provider.my-oauth-provider.user-info-uri=https://auth.example.com/userinfo ‚òùÔ∏è This config tells Spring Security where to redirect users, where to obtain tokens, and which scopes to request.\n3. Set Up the Security Configuration You can keep it simple with auto-config:\n// Java configuration with Spring Boot auto-configuration @EnableWebSecurity public class SecurityConfig { // You can extend this to customize filter chains if needed } Or extend for more control:\n@Configuration @EnableWebSecurity public class SecurityConfig extends WebSecurityConfigurerAdapter { @Override protected void configure(HttpSecurity http) throws Exception { http .authorizeRequests() .antMatchers(\"/\", \"/login**\").permitAll() .anyRequest().authenticated() .and() .oauth2Login(); // handles the full OAuth2 login flow } } 4. Handle the Authenticated Session Once authenticated, Spring Security populates a Principal object:\n@Controller public class HomeController { @GetMapping(\"/profile\") public String profile(Model model, @AuthenticationPrincipal OAuth2User principal) { model.addAttribute(\"name\", principal.getAttribute(\"name\")); // e.g., user full name model.addAttribute(\"email\", principal.getAttribute(\"email\")); // user email return \"profile\"; // render Thymeleaf or JSP view } } Example: cURL Request to Token Endpoint If you ever want to test the token exchange manually:\n# Replace with actual values from your provider curl -X POST https://auth.example.com/oauth2/token \\ -H \"Content-Type: application/x-www-form-urlencoded\" \\ -d \"grant_type=authorization_code\" \\ -d \"code=AUTH_CODE_FROM_CALLBACK\" \\ -d \"redirect_uri=https://yourapp.com/login/oauth2/code/my-oauth-client\" \\ -d \"client_id=your-client-id\" \\ -d \"client_secret=your-client-secret\" Common Pitfalls Redirect URI mismatch: Must match exactly between your app and the identity provider Session expiration: You must manage user sessions securely server-side State parameter validation: Spring handles this internally, but be cautious if implementing manually Real World Use Cases Internal corporate apps integrating with SSO (e.g., ForgeRock Identity Cloud or Azure AD) Customer-facing apps needing social login via Google, Facebook, etc. APIs requiring delegated access on behalf of users üëâ Related: Understanding the Authorization Code Flow in OAuth 2.0\nüëâ Related: Authorization Code Flow vs Implicit Flow: Which One Should You Use?\nConclusion: Java + OAuth 2.0 = Secure, Scalable Identity Integration Implementing OAuth 2.0 Authorization Code Flow in Java is more straightforward than ever with the help of Spring Security. By using this pattern, your apps gain secure delegated access without exposing user credentials or sensitive tokens in the browser.\nüí° Are you storing refresh tokens securely? üí° Do you need to support multi-tenant OAuth configurations?\nThese are good follow-up questions to explore as you scale up your solution. Ready to see how PKCE, refresh tokens, and custom token validation fit into the flow? Let‚Äôs tackle those in the next guide.\n",
  "wordCount" : "646",
  "inLanguage": "en",
  "image": "https://www.iamdevbox.com/static/IAMDevBox.com.png","datePublished": "2025-06-04T21:09:18Z",
  "dateModified": "2025-06-06T19:33:33-04:00",
  "author":{
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.iamdevbox.com/posts/how-to-implement-the-oauth-20-authorization-code-flow-in-java/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.iamdevbox.com/favicon.ico"
    }
  }
}
</script><meta name="description" content="OAuth 2.0&#39;s Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In...">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/devops-is-not-just-tools--its-a-cultural-transformation\/"
            },
            "headline": "\"DevOps Is Not Just Tools ‚Äî It‚Äôs a Cultural Transformation\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-06-09T14:56:04Z",
            "dateModified": "2025-06-09T14:56:16Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/orchestrating-kubernetes-and-iam-with-terraform-a-comprehensive-guide\/"
            },
            "headline": "\"Orchestrating Kubernetes and IAM with Terraform: A Comprehensive Guide\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-06-08T13:49:52Z",
            "dateModified": "2025-06-08T09:53:31-04:00"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/navigating-iam-challenges-in-multi-cloud-environments\/"
            },
            "headline": "\"Navigating IAM Challenges in Multi-Cloud Environments\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-06-06T14:59:32Z",
            "dateModified": "2025-06-06T19:33:33-04:00"
          }
  ]
}
</script>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "\"Why Use the Authorization Code Flow in Java Web Apps?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Are you storing refresh tokens securely?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Do you need to support multi-tenant OAuth configurations?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Ready to see how PKCE, refresh tokens, and custom token validation fit into the flow?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    }
  ]
}
</script>
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";
        script.onload = () => {
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        };
        document.head.appendChild(script);
    }
    });
    </script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6QCH29975"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B6QCH29975');
    </script>
    
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.iamdevbox.com/" accesskey="h" title="IAMDevBox (Alt + H)">IAMDevBox</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.iamdevbox.com/posts/" title="Read articles and updates">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/tools/" title="Explore developer tools">
                    <span>üß∞Tools</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/search/" title="Search this site">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.iamdevbox.com/">Home</a>&nbsp;¬ª&nbsp;<a href="https://www.iamdevbox.com/posts/">All posts</a></div>
    <h1 class="post-title entry-hint-parent">
      How to Implement the OAuth 2.0 Authorization Code Flow in Java
    </h1>
    
    <div class="post-meta">4 min&nbsp;¬∑&nbsp;646 words&nbsp;¬∑&nbsp;IAMDevBox

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#why-use-the-authorization-code-flow-in-java-web-apps" aria-label="Why Use the Authorization Code Flow in Java Web Apps?">Why Use the Authorization Code Flow in Java Web Apps?</a></li>
                <li>
                    <a href="#architecture-overview" aria-label="Architecture Overview">Architecture Overview</a></li>
                <li>
                    <a href="#libraries--tools-you" aria-label="Libraries &amp; Tools You&rsquo;ll Need">Libraries &amp; Tools You&rsquo;ll Need</a></li>
                <li>
                    <a href="#step-by-step-java-implementation" aria-label="Step-by-Step Java Implementation">Step-by-Step Java Implementation</a><ul>
                        
                <li>
                    <a href="#1-configure-dependencies-maven" aria-label="1. Configure Dependencies (Maven)">1. Configure Dependencies (Maven)</a></li>
                <li>
                    <a href="#2-application-properties-configuration" aria-label="2. Application Properties Configuration">2. Application Properties Configuration</a></li>
                <li>
                    <a href="#3-set-up-the-security-configuration" aria-label="3. Set Up the Security Configuration">3. Set Up the Security Configuration</a></li>
                <li>
                    <a href="#4-handle-the-authenticated-session" aria-label="4. Handle the Authenticated Session">4. Handle the Authenticated Session</a></li></ul>
                </li>
                <li>
                    <a href="#example-curl-request-to-token-endpoint" aria-label="Example: cURL Request to Token Endpoint">Example: cURL Request to Token Endpoint</a></li>
                <li>
                    <a href="#common-pitfalls" aria-label="Common Pitfalls">Common Pitfalls</a></li>
                <li>
                    <a href="#real-world-use-cases" aria-label="Real World Use Cases">Real World Use Cases</a></li>
                <li>
                    <a href="#conclusion-java--oauth-20--secure-scalable-identity-integration" aria-label="Conclusion: Java &#43; OAuth 2.0 = Secure, Scalable Identity Integration">Conclusion: Java + OAuth 2.0 = Secure, Scalable Identity Integration</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>OAuth 2.0&rsquo;s Authorization Code Flow is the go-to standard for securing web applications that need to interact with identity providers on behalf of users. In this guide, we&rsquo;ll walk through how to implement this flow in Java using industry-standard libraries ‚Äî and explain each step along the way.</p>
<hr>
<h3 id="why-use-the-authorization-code-flow-in-java-web-apps"><strong>Why Use the Authorization Code Flow in Java Web Apps?</strong><a hidden class="anchor" aria-hidden="true" href="#why-use-the-authorization-code-flow-in-java-web-apps">#</a></h3>
<p>Java remains dominant in enterprise web application development, and OAuth 2.0 is the de facto standard for authorization. When building server-side rendered applications or backend services that interact with identity providers like ForgeRock, Auth0, or Okta, the Authorization Code Flow is the most secure option ‚Äî especially when combined with HTTPS and secure session management.</p>
<blockquote>
<p>üß† <em>Unlike the Implicit Flow, the Authorization Code Flow keeps tokens out of the browser, reducing attack surfaces.</em></p></blockquote>
<hr>
<h3 id="architecture-overview"><strong>Architecture Overview</strong><a hidden class="anchor" aria-hidden="true" href="#architecture-overview">#</a></h3>
<p>Before diving into code, here‚Äôs how the Authorization Code Flow works conceptually:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>[User] ‚Üí [Java Web App] ‚Üí [Authorization Server (e.g., ForgeRock, Auth0)]
</span></span><span style="display:flex;"><span>                            ‚Üì
</span></span><span style="display:flex;"><span>                      Authorization Code
</span></span><span style="display:flex;"><span>                            ‚Üì
</span></span><span style="display:flex;"><span>                [Java Web App] ‚Üî [Token Endpoint]
</span></span><span style="display:flex;"><span>                            ‚Üì
</span></span><span style="display:flex;"><span>               Access Token / Refresh Token
</span></span><span style="display:flex;"><span>                            ‚Üì
</span></span><span style="display:flex;"><span>                  [Java Web App] ‚Üí [API Resource]
</span></span></code></pre></div><hr>
<h3 id="libraries--tools-you"><strong>Libraries &amp; Tools You&rsquo;ll Need</strong><a hidden class="anchor" aria-hidden="true" href="#libraries--tools-you">#</a></h3>
<ul>
<li><strong>Spring Boot</strong> (or any Java web framework)</li>
<li><strong>Spring Security OAuth2 Client</strong> ‚Äì simplifies OAuth flow</li>
<li>Maven or Gradle</li>
<li>Optional: a secure credentials vault (e.g., HashiCorp Vault or AWS Secrets Manager)</li>
</ul>
<hr>
<h3 id="step-by-step-java-implementation"><strong>Step-by-Step Java Implementation</strong><a hidden class="anchor" aria-hidden="true" href="#step-by-step-java-implementation">#</a></h3>
<h4 id="1-configure-dependencies-maven">1. <strong>Configure Dependencies (Maven)</strong><a hidden class="anchor" aria-hidden="true" href="#1-configure-dependencies-maven">#</a></h4>
<p>Add the required dependencies for Spring Boot and OAuth2 Client support.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- OAuth2 client support --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-oauth2-client<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span></code></pre></div><hr>
<h4 id="2-application-properties-configuration">2. <strong>Application Properties Configuration</strong><a hidden class="anchor" aria-hidden="true" href="#2-application-properties-configuration">#</a></h4>
<p>Configure the OAuth2 client settings to match your identity provider.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.registration.my-oauth-client.client-id</span><span style="color:#f92672">=</span><span style="color:#e6db74">your-client-id</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.registration.my-oauth-client.client-secret</span><span style="color:#f92672">=</span><span style="color:#e6db74">your-client-secret</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.registration.my-oauth-client.authorization-grant-type</span><span style="color:#f92672">=</span><span style="color:#e6db74">authorization_code</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.registration.my-oauth-client.redirect-uri</span><span style="color:#f92672">=</span><span style="color:#e6db74">{baseUrl}/login/oauth2/code/{registrationId}</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.registration.my-oauth-client.scope</span><span style="color:#f92672">=</span><span style="color:#e6db74">openid,profile,email</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.provider.my-oauth-provider.authorization-uri</span><span style="color:#f92672">=</span><span style="color:#e6db74">https://auth.example.com/oauth2/authorize</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.provider.my-oauth-provider.token-uri</span><span style="color:#f92672">=</span><span style="color:#e6db74">https://auth.example.com/oauth2/token</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spring.security.oauth2.client.provider.my-oauth-provider.user-info-uri</span><span style="color:#f92672">=</span><span style="color:#e6db74">https://auth.example.com/userinfo</span>
</span></span></code></pre></div><blockquote>
<p>‚òùÔ∏è This config tells Spring Security where to redirect users, where to obtain tokens, and which scopes to request.</p></blockquote>
<hr>
<h4 id="3-set-up-the-security-configuration">3. <strong>Set Up the Security Configuration</strong><a hidden class="anchor" aria-hidden="true" href="#3-set-up-the-security-configuration">#</a></h4>
<p>You can keep it simple with auto-config:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Java configuration with Spring Boot auto-configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EnableWebSecurity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecurityConfig</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// You can extend this to customize filter chains if needed</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Or extend for more control:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@EnableWebSecurity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecurityConfig</span> <span style="color:#66d9ef">extends</span> WebSecurityConfigurerAdapter {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">configure</span>(HttpSecurity http) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>    http
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">authorizeRequests</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">antMatchers</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#e6db74">&#34;/login**&#34;</span>).<span style="color:#a6e22e">permitAll</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">anyRequest</span>().<span style="color:#a6e22e">authenticated</span>()
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">and</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">oauth2Login</span>(); <span style="color:#75715e">// handles the full OAuth2 login flow</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h4 id="4-handle-the-authenticated-session">4. <strong>Handle the Authenticated Session</strong><a hidden class="anchor" aria-hidden="true" href="#4-handle-the-authenticated-session">#</a></h4>
<p>Once authenticated, Spring Security populates a <code>Principal</code> object:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Controller</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HomeController</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@GetMapping</span>(<span style="color:#e6db74">&#34;/profile&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">profile</span>(Model model, <span style="color:#a6e22e">@AuthenticationPrincipal</span> OAuth2User principal) {
</span></span><span style="display:flex;"><span>    model.<span style="color:#a6e22e">addAttribute</span>(<span style="color:#e6db74">&#34;name&#34;</span>, principal.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#34;name&#34;</span>)); <span style="color:#75715e">// e.g., user full name</span>
</span></span><span style="display:flex;"><span>    model.<span style="color:#a6e22e">addAttribute</span>(<span style="color:#e6db74">&#34;email&#34;</span>, principal.<span style="color:#a6e22e">getAttribute</span>(<span style="color:#e6db74">&#34;email&#34;</span>)); <span style="color:#75715e">// user email</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;profile&#34;</span>; <span style="color:#75715e">// render Thymeleaf or JSP view</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h3 id="example-curl-request-to-token-endpoint"><strong>Example: cURL Request to Token Endpoint</strong><a hidden class="anchor" aria-hidden="true" href="#example-curl-request-to-token-endpoint">#</a></h3>
<p>If you ever want to test the token exchange manually:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Replace with actual values from your provider</span>
</span></span><span style="display:flex;"><span>curl -X POST https://auth.example.com/oauth2/token <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/x-www-form-urlencoded&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;grant_type=authorization_code&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;code=AUTH_CODE_FROM_CALLBACK&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;redirect_uri=https://yourapp.com/login/oauth2/code/my-oauth-client&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;client_id=your-client-id&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#34;client_secret=your-client-secret&#34;</span>
</span></span></code></pre></div><hr>
<h3 id="common-pitfalls"><strong>Common Pitfalls</strong><a hidden class="anchor" aria-hidden="true" href="#common-pitfalls">#</a></h3>
<ul>
<li><strong>Redirect URI mismatch</strong>: Must match exactly between your app and the identity provider</li>
<li><strong>Session expiration</strong>: You must manage user sessions securely server-side</li>
<li><strong>State parameter validation</strong>: Spring handles this internally, but be cautious if implementing manually</li>
</ul>
<hr>
<h3 id="real-world-use-cases"><strong>Real World Use Cases</strong><a hidden class="anchor" aria-hidden="true" href="#real-world-use-cases">#</a></h3>
<ul>
<li><strong>Internal corporate apps</strong> integrating with SSO (e.g., ForgeRock Identity Cloud or Azure AD)</li>
<li><strong>Customer-facing apps</strong> needing social login via Google, Facebook, etc.</li>
<li><strong>APIs requiring delegated access</strong> on behalf of users</li>
</ul>
<hr>
<p><strong>üëâ Related:</strong> <a href="/posts/understanding-the-authorization-code-flow-in-oauth-20/">Understanding the Authorization Code Flow in OAuth 2.0</a></p>
<p><strong>üëâ Related:</strong> <a href="/posts/authorization-code-flow-vs-implicit-flow-which-one-should-you-use/">Authorization Code Flow vs Implicit Flow: Which One Should You Use?</a></p>
<hr>
<h3 id="conclusion-java--oauth-20--secure-scalable-identity-integration"><strong>Conclusion: Java + OAuth 2.0 = Secure, Scalable Identity Integration</strong><a hidden class="anchor" aria-hidden="true" href="#conclusion-java--oauth-20--secure-scalable-identity-integration">#</a></h3>
<p>Implementing OAuth 2.0 Authorization Code Flow in Java is more straightforward than ever with the help of Spring Security. By using this pattern, your apps gain secure delegated access without exposing user credentials or sensitive tokens in the browser.</p>
<blockquote>
<p>üí° Are you storing refresh tokens securely?
üí° Do you need to support multi-tenant OAuth configurations?</p></blockquote>
<p>These are good follow-up questions to explore as you scale up your solution. Ready to see how PKCE, refresh tokens, and custom token validation fit into the flow? Let‚Äôs tackle those in the next guide.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.iamdevbox.com/tags/oauth-2.0/">OAuth 2.0</a></li>
      <li><a href="https://www.iamdevbox.com/tags/java/">Java</a></li>
      <li><a href="https://www.iamdevbox.com/tags/authorization-code-flow/">Authorization Code Flow</a></li>
      <li><a href="https://www.iamdevbox.com/tags/secure-apis/">Secure APIs</a></li>
      <li><a href="https://www.iamdevbox.com/tags/identity-integration/">Identity Integration</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.iamdevbox.com/posts/oauth-20-authorization-flow-using-nodejs-and-express/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>OAuth 2.0 Authorization Flow Using Node.js and Express</span>
  </a>
  <a class="next" href="https://www.iamdevbox.com/posts/how-to-refresh-access-tokens-in-oauth-20-java-example-included/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>How to Refresh Access Tokens in OAuth 2.0 (Java Example Included)</span>
  </a>
</nav>

  </footer>

  
  

  
  <section class="post-related-articles custom-section">
    <h2 class="custom-section-title">
      Related Articles
    </h2>
    
    
    <ul class="custom-list">
      
      
        
          <li class="custom-list-item">
            <a href="/posts/best-practices-for-writing-java-dockerfiles/" class="custom-link">
              Best Practices for Writing Java Dockerfiles
            </a>
            <small class="custom-date">2025-06-05</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/building-unified-identity-strategy-in-multi-cloud-environments/" class="custom-link">
              Building Unified Identity Strategy in Multi-Cloud Environments
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/oauth-20-token-introspection-real-time-validation-explained/" class="custom-link">
              OAuth 2.0 Token Introspection: Real-Time Validation Explained
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/oauth-21-whats-changing-and-why-it-matters/" class="custom-link">
              OAuth 2.1: What‚Äôs Changing and Why It Matters
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/understanding-token-revocation-and-when-to-use-it/" class="custom-link">
              Understanding Token Revocation and When to Use It
            </a>
            <small class="custom-date">2025-06-04</small>
          </li>
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      

      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
  

  <section class="post-recent-articles custom-section-alt">
    <h2 class="custom-section-title">
      Latest Articles
    </h2>
    
    
    
    <ul class="custom-list">
      
      
        
          
            <li class="custom-list-item">
              <a href="/posts/devops-is-not-just-tools--its-a-cultural-transformation/" class="custom-link">
                DevOps Is Not Just Tools ‚Äî It‚Äôs a Cultural Transformation
              </a>
              <small class="custom-date">2025-06-09</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/orchestrating-kubernetes-and-iam-with-terraform-a-comprehensive-guide/" class="custom-link">
                Orchestrating Kubernetes and IAM with Terraform: A Comprehensive Guide
              </a>
              <small class="custom-date">2025-06-08</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/navigating-iam-challenges-in-multi-cloud-environments/" class="custom-link">
                Navigating IAM Challenges in Multi-Cloud Environments
              </a>
              <small class="custom-date">2025-06-06</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/best-practices-for-writing-java-dockerfiles/" class="custom-link">
                Best Practices for Writing Java Dockerfiles
              </a>
              <small class="custom-date">2025-06-05</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/building-unified-identity-strategy-in-multi-cloud-environments/" class="custom-link">
                Building Unified Identity Strategy in Multi-Cloud Environments
              </a>
              <small class="custom-date">2025-06-04</small>
            </li>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
</article>
    </main>
    
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://www.iamdevbox.com/">IAMDevBox</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        window.requestAnimationFrame(() => {
            const savedScroll = localStorage.getItem("menu-scroll-position");
            if (savedScroll !== null) {
            menu.scrollLeft = savedScroll;
            }
        });

        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        };
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
