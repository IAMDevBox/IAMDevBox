<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-...</title><meta name="description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples."><meta name="keywords" content="kubernetes, openshift, iam, devsecops, rbac"><meta name="author" content="IAMDevBox"><meta name="language" content="en-US">
<meta property="og:locale" content="en_US"><link rel="canonical" href="https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/"><meta property="og:title" content="Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-...">
<meta property="og:description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/">
<meta property="og:site_name" content="IAMDevBox">
<meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="IAMDevBox - Identity and Access Management Blog"><meta property="article:published_time" content="2025-06-12T07:52:16-04:00">
<meta property="article:modified_time" content="2025-06-12T07:53:26-04:00">
<meta property="article:author" content="IAMDevBox">
<meta property="article:section" content="Posts"><meta property="article:tag" content="kubernetes"><meta property="article:tag" content="openshift"><meta property="article:tag" content="iam"><meta property="article:tag" content="devsecops"><meta property="article:tag" content="rbac"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-...">
<meta name="twitter:description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg"><meta name="twitter:site" content="@iamdevbox"><meta name="twitter:creator" content="@iamdevbox"><meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#2e2e33"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices",
  "description": "Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.",
  "image": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.jpg",
  "author": {
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.png"
    }
  },
  "datePublished": "2025-06-12T07:52:16-04:00",
  "dateModified": "2025-06-12T07:53:26-04:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https:\/\/www.iamdevbox.com\/posts\/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices\/"
  },
  "wordCount":  710 ,
  "keywords": "[\"kubernetes\",\"openshift\",\"iam\",\"devsecops\",\"rbac\"]"
}
</script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Home",
      "item": "https:\/\/www.iamdevbox.com\/"
    },
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blog",
      "item": "https:\/\/www.iamdevbox.com\/posts\/"
    },
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices",
      "item": "https:\/\/www.iamdevbox.com\/posts\/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices\/"
    }]
}
</script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css" integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as="style">


<link rel="icon" href="https://www.iamdevbox.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.iamdevbox.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.iamdevbox.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.iamdevbox.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.iamdevbox.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css"></noscript>

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<meta property="og:url" content="https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/">
  <meta property="og:site_name" content="IAMDevBox">
  <meta property="og:title" content="Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices">
  <meta property="og:description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-12T07:52:16-04:00">
    <meta property="article:modified_time" content="2025-06-12T07:53:26-04:00">
    <meta property="article:tag" content="Kubernetes">
    <meta property="article:tag" content="Openshift">
    <meta property="article:tag" content="IAM">
    <meta property="article:tag" content="DevSecOps">
    <meta property="article:tag" content="Rbac">
      <meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.jpg">
<meta name="twitter:title" content="Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices">
<meta name="twitter:description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "All posts",
      "item": "https://www.iamdevbox.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices",
      "item": "https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices",
  "name": "Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices",
  "description": "Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.",
  "keywords": [
    "kubernetes", "openshift", "iam", "devsecops", "rbac"
  ],
  "articleBody": "Introduction: Why IAM Matters in Kubernetes and OpenShift In the modern DevSecOps era, Identity and Access Management (IAM) is no longer a secondary concern—it is foundational. As container orchestration becomes central to enterprise cloud strategies, the ability to control who can access which resources, and under what conditions, becomes critical.\nKubernetes and OpenShift are two of the most widely adopted platforms for orchestrating containerized workloads. While Kubernetes provides the core primitives for access control, OpenShift extends and enhances IAM capabilities, making it a popular choice for regulated or enterprise environments.\nThis post explores how these platforms handle IAM, compares their built-in mechanisms, and demonstrates how to integrate with enterprise-grade identity providers like ForgeRock.\nKubernetes IAM: Native Mechanisms and Integration Service Accounts and API Access Kubernetes uses ServiceAccounts to identify workloads (pods) and provides them with access tokens to interact with the Kubernetes API. For human users, Kubernetes does not have a built-in user management system; instead, it relies on external identity providers via OIDC.\n# Define a ServiceAccount in the dev namespace apiVersion: v1 kind: ServiceAccount metadata: name: app-sa namespace: dev Attach the ServiceAccount to a pod to allow it to authenticate to the Kubernetes API securely.\nRole-Based Access Control (RBAC) RBAC in Kubernetes lets you define who can perform what actions in which namespaces.\n# Role binding for a specific user in a namespace apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: developer-access namespace: dev roleRef: kind: Role name: view apiGroup: rbac.authorization.k8s.io subjects: - kind: User name: alice@example.com apiGroup: rbac.authorization.k8s.io This example grants view access in the dev namespace to a user identified by an external IdP.\nOIDC Authentication Integration To use OIDC with Kubernetes:\n# Example flags added to the kube-apiserver --oidc-issuer-url=https://idp.example.com/oauth2 --oidc-client-id=k8s-client --oidc-username-claim=email --oidc-groups-claim=groups Once configured, your users can authenticate using tokens issued by the external IdP (e.g., ForgeRock or Ping).\nOpenShift IAM: Enhanced Access Controls OpenShift builds on top of Kubernetes and provides a robust built-in OAuth server. This enables:\nNative SSO login Integration with external IdPs (LDAP, GitHub, Google, OIDC) Web console and CLI identity propagation OpenShift OAuth and External IdP Configuration You can configure ForgeRock AM as an identity provider by adding an IdentityProvider resource to your cluster:\n# Sample identity provider integration in OpenShift apiVersion: config.openshift.io/v1 kind: OAuth metadata: name: cluster spec: identityProviders: - name: forgerock mappingMethod: claim type: OpenID openID: clientID: openshift-client clientSecret: name: forgerock-secret issuer: https://forgerock.example.com/am/oauth2 After this, users can authenticate to OpenShift using ForgeRock-issued tokens.\nClusterRoles and SCCs OpenShift extends Kubernetes RBAC with Security Context Constraints (SCCs), enabling more fine-grained control over pod capabilities, such as running as root or using host networking.\nForgeRock Integration Use Case: Secure Dev Environments ForgeRock AM can be used to manage authentication for:\nKubernetes dashboards DevOps portals behind Ingress controllers API calls to the Kubernetes control plane OAuth2 Proxy with ForgeRock Use an OAuth2 Proxy in front of internal services:\n[ForgeRock AM] → [OAuth2 Proxy] → [Ingress] → [Service] This enables session-based or token-based access for internal applications using centralized policies.\nIAM Best Practices in Multi-Tenant Kubernetes Environments When building a multi-tenant environment on Kubernetes or OpenShift, consider:\nNamespace isolation per tenant ServiceAccount per application deployment NetworkPolicy enforcement Read-only dashboards per team Use of external IdP claims to drive role bindings dynamically IAM in CI/CD: GitOps + Identity-Aware Automation When applying GitOps or CI/CD workflows (e.g., with ArgoCD, FluxCD, or Jenkins):\nEnsure your CI agents use least privilege via ServiceAccounts Authenticate against the Kubernetes API using JWTs from trusted IdPs Use short-lived tokens for automated access This reduces the blast radius in the event of a token leak or compromise.\nFuture Trends: Zero Trust, SPIFFE, and Workload Identity The industry is moving toward zero trust in cluster environments. Standards like SPIFFE/SPIRE enable workload identity with cryptographic guarantees, moving beyond static secrets or tokens.\nExpect to see:\nWider support for federated identities Policy-as-code controlling access via claims (OPA/Gatekeeper) Cluster mesh identity coordination across multi-cloud setups Conclusion Both Kubernetes and OpenShift offer powerful IAM capabilities, but OpenShift provides a more integrated experience out of the box, especially for enterprises. Integrating a central identity provider like ForgeRock enhances auditability, security, and usability in complex environments.\nBy combining external identity platforms with native RBAC, IAM engineers and DevSecOps teams can implement secure, scalable, and manageable access control for Kubernetes-native infrastructure.\n",
  "wordCount" : "710",
  "inLanguage": "en",
  "image": "https://www.iamdevbox.com/IAMDevBox.com.jpg","datePublished": "2025-06-12T07:52:16-04:00",
  "dateModified": "2025-06-12T07:53:26-04:00",
  "author":{
    "@type": "Person",
    "name": "IAMDevBox"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.iamdevbox.com/posts/kubernetes-vs-openshift-iam-integration-rbac-and-real-world-devsecops-practices/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.iamdevbox.com/favicon.ico"
    }
  }
}
</script><meta name="description" content="Explore how Kubernetes and OpenShift handle IAM, RBAC, and external IdP integration, with real-world DevSecOps use cases and ForgeRock examples.">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know\/"
            },
            "headline": "\"Is JWT Decoding Safe on the Frontend? Security Risks You Should Know\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-28T14:53:37Z",
            "dateModified": "2025-08-28T14:53:52Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction\/"
            },
            "headline": "\"What Is a JWT and How Does It Work? A Developer-Friendly Introduction\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-26T15:13:56Z",
            "dateModified": "2025-08-26T15:14:09Z"
          },
          {
            "@type": "Article",
            "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https:\/\/www.iamdevbox.com\/posts\/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react\/"
            },
            "headline": "\"Build Your Own JWT Decode Online Tool with Firebase Functions and React\"",
            "author": {
              "@type": "Person",
              "name": "IAMDevBox"
            },
            "publisher": {
              "@type": "Organization",
              "name": "IAMDevBox",
              "logo": {
                "@type": "ImageObject",
                "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
              }
            },
            "image": {
              "@type": "ImageObject",
              "url": "\"https://www.iamdevbox.com/favicon-96x96.png\""
            },
            "datePublished": "2025-08-25T19:38:05Z",
            "dateModified": "2025-08-25T19:38:19Z"
          }
  ]
}
</script>
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "\"What is the main difference between Kubernetes and OpenShift in terms of IAM?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"How can I integrate external identity providers with Kubernetes?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Does OpenShift support SSO and OAuth2 natively?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"What are best practices for RBAC in a multi-tenant Kubernetes environment?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    },
    {
      "@type": "Question",
      "name": "\"Can ForgeRock be used to manage Kubernetes API authentication?\"",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "\"Please refer to the article for detailed explanation.\""
      }
    }
  ]
}
</script>
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";
        script.onload = () => {
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        };
        document.head.appendChild(script);
    }
    });
    </script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6QCH29975"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B6QCH29975');
    </script>
    
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.iamdevbox.com/" accesskey="h" title="IAMDevBox (Alt + H)">IAMDevBox</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.iamdevbox.com/posts/" title="Read articles and updates">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/tools/" title="Explore developer tools">
                    <span>🧰Tools</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/search/" title="Search this site">
                    <span>🔍</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.iamdevbox.com/">Home</a>&nbsp;»&nbsp;<a href="https://www.iamdevbox.com/posts/">All posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Kubernetes vs OpenShift: IAM Integration, RBAC, and Real-World DevSecOps Practices
    </h1>
    
    <div class="post-meta">4 min&nbsp;·&nbsp;710 words&nbsp;·&nbsp;IAMDevBox

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction-why-iam-matters-in-kubernetes-and-openshift" aria-label="Introduction: Why IAM Matters in Kubernetes and OpenShift">Introduction: Why IAM Matters in Kubernetes and OpenShift</a></li>
                <li>
                    <a href="#kubernetes-iam-native-mechanisms-and-integration" aria-label="Kubernetes IAM: Native Mechanisms and Integration">Kubernetes IAM: Native Mechanisms and Integration</a><ul>
                        
                <li>
                    <a href="#service-accounts-and-api-access" aria-label="Service Accounts and API Access">Service Accounts and API Access</a></li>
                <li>
                    <a href="#role-based-access-control-rbac" aria-label="Role-Based Access Control (RBAC)">Role-Based Access Control (RBAC)</a></li>
                <li>
                    <a href="#oidc-authentication-integration" aria-label="OIDC Authentication Integration">OIDC Authentication Integration</a></li></ul>
                </li>
                <li>
                    <a href="#openshift-iam-enhanced-access-controls" aria-label="OpenShift IAM: Enhanced Access Controls">OpenShift IAM: Enhanced Access Controls</a><ul>
                        
                <li>
                    <a href="#openshift-oauth-and-external-idp-configuration" aria-label="OpenShift OAuth and External IdP Configuration">OpenShift OAuth and External IdP Configuration</a></li>
                <li>
                    <a href="#clusterroles-and-sccs" aria-label="ClusterRoles and SCCs">ClusterRoles and SCCs</a></li></ul>
                </li>
                <li>
                    <a href="#forgerock-integration-use-case-secure-dev-environments" aria-label="ForgeRock Integration Use Case: Secure Dev Environments">ForgeRock Integration Use Case: Secure Dev Environments</a><ul>
                        
                <li>
                    <a href="#oauth2-proxy-with-forgerock" aria-label="OAuth2 Proxy with ForgeRock">OAuth2 Proxy with ForgeRock</a></li></ul>
                </li>
                <li>
                    <a href="#iam-best-practices-in-multi-tenant-kubernetes-environments" aria-label="IAM Best Practices in Multi-Tenant Kubernetes Environments">IAM Best Practices in Multi-Tenant Kubernetes Environments</a></li>
                <li>
                    <a href="#iam-in-cicd-gitops--identity-aware-automation" aria-label="IAM in CI/CD: GitOps &#43; Identity-Aware Automation">IAM in CI/CD: GitOps + Identity-Aware Automation</a></li>
                <li>
                    <a href="#future-trends-zero-trust-spiffe-and-workload-identity" aria-label="Future Trends: Zero Trust, SPIFFE, and Workload Identity">Future Trends: Zero Trust, SPIFFE, and Workload Identity</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introduction-why-iam-matters-in-kubernetes-and-openshift">Introduction: Why IAM Matters in Kubernetes and OpenShift<a hidden class="anchor" aria-hidden="true" href="#introduction-why-iam-matters-in-kubernetes-and-openshift">#</a></h2>
<p>In the modern DevSecOps era, Identity and Access Management (IAM) is no longer a secondary concern—it is foundational. As container orchestration becomes central to enterprise cloud strategies, the ability to control who can access which resources, and under what conditions, becomes critical.</p>
<p>Kubernetes and OpenShift are two of the most widely adopted platforms for orchestrating containerized workloads. While Kubernetes provides the core primitives for access control, OpenShift extends and enhances IAM capabilities, making it a popular choice for regulated or enterprise environments.</p>
<p>This post explores how these platforms handle IAM, compares their built-in mechanisms, and demonstrates how to integrate with enterprise-grade identity providers like ForgeRock.</p>
<h2 id="kubernetes-iam-native-mechanisms-and-integration">Kubernetes IAM: Native Mechanisms and Integration<a hidden class="anchor" aria-hidden="true" href="#kubernetes-iam-native-mechanisms-and-integration">#</a></h2>
<h3 id="service-accounts-and-api-access">Service Accounts and API Access<a hidden class="anchor" aria-hidden="true" href="#service-accounts-and-api-access">#</a></h3>
<p>Kubernetes uses <strong>ServiceAccounts</strong> to identify workloads (pods) and provides them with access tokens to interact with the Kubernetes API. For human users, Kubernetes does not have a built-in user management system; instead, it relies on <strong>external identity providers</strong> via OIDC.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Define a ServiceAccount in the dev namespace</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ServiceAccount</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">app-sa</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">dev</span>
</span></span></code></pre></div><p>Attach the <code>ServiceAccount</code> to a pod to allow it to authenticate to the Kubernetes API securely.</p>
<h3 id="role-based-access-control-rbac">Role-Based Access Control (RBAC)<a hidden class="anchor" aria-hidden="true" href="#role-based-access-control-rbac">#</a></h3>
<p>RBAC in Kubernetes lets you define who can perform what actions in which namespaces.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Role binding for a specific user in a namespace</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">RoleBinding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">developer-access</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">dev</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">roleRef</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Role</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">view</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">subjects</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">User</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">alice@example.com</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span></code></pre></div><p>This example grants <code>view</code> access in the <code>dev</code> namespace to a user identified by an external IdP.</p>
<h3 id="oidc-authentication-integration">OIDC Authentication Integration<a hidden class="anchor" aria-hidden="true" href="#oidc-authentication-integration">#</a></h3>
<p>To use OIDC with Kubernetes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Example flags added to the kube-apiserver</span>
</span></span><span style="display:flex;"><span>--oidc-issuer-url<span style="color:#f92672">=</span>https://idp.example.com/oauth2
</span></span><span style="display:flex;"><span>--oidc-client-id<span style="color:#f92672">=</span>k8s-client
</span></span><span style="display:flex;"><span>--oidc-username-claim<span style="color:#f92672">=</span>email
</span></span><span style="display:flex;"><span>--oidc-groups-claim<span style="color:#f92672">=</span>groups
</span></span></code></pre></div><p>Once configured, your users can authenticate using tokens issued by the external IdP (e.g., ForgeRock or Ping).</p>
<hr>
<h2 id="openshift-iam-enhanced-access-controls">OpenShift IAM: Enhanced Access Controls<a hidden class="anchor" aria-hidden="true" href="#openshift-iam-enhanced-access-controls">#</a></h2>
<p>OpenShift builds on top of Kubernetes and provides a robust built-in OAuth server. This enables:</p>
<ul>
<li>Native <strong>SSO login</strong></li>
<li>Integration with external IdPs (LDAP, GitHub, Google, OIDC)</li>
<li>Web console and CLI identity propagation</li>
</ul>
<h3 id="openshift-oauth-and-external-idp-configuration">OpenShift OAuth and External IdP Configuration<a hidden class="anchor" aria-hidden="true" href="#openshift-oauth-and-external-idp-configuration">#</a></h3>
<p>You can configure ForgeRock AM as an identity provider by adding an <code>IdentityProvider</code> resource to your cluster:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Sample identity provider integration in OpenShift</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">config.openshift.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">OAuth</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">cluster</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">identityProviders</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">forgerock</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">mappingMethod</span>: <span style="color:#ae81ff">claim</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">OpenID</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">openID</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">clientID</span>: <span style="color:#ae81ff">openshift-client</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">clientSecret</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">name</span>: <span style="color:#ae81ff">forgerock-secret</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">issuer</span>: <span style="color:#ae81ff">https://forgerock.example.com/am/oauth2</span>
</span></span></code></pre></div><p>After this, users can authenticate to OpenShift using ForgeRock-issued tokens.</p>
<h3 id="clusterroles-and-sccs">ClusterRoles and SCCs<a hidden class="anchor" aria-hidden="true" href="#clusterroles-and-sccs">#</a></h3>
<p>OpenShift extends Kubernetes RBAC with <strong>Security Context Constraints (SCCs)</strong>, enabling more fine-grained control over pod capabilities, such as running as root or using host networking.</p>
<hr>
<h2 id="forgerock-integration-use-case-secure-dev-environments">ForgeRock Integration Use Case: Secure Dev Environments<a hidden class="anchor" aria-hidden="true" href="#forgerock-integration-use-case-secure-dev-environments">#</a></h2>
<p>ForgeRock AM can be used to manage authentication for:</p>
<ul>
<li>Kubernetes dashboards</li>
<li>DevOps portals behind Ingress controllers</li>
<li>API calls to the Kubernetes control plane</li>
</ul>
<h3 id="oauth2-proxy-with-forgerock">OAuth2 Proxy with ForgeRock<a hidden class="anchor" aria-hidden="true" href="#oauth2-proxy-with-forgerock">#</a></h3>
<p>Use an OAuth2 Proxy in front of internal services:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[ForgeRock AM] → [OAuth2 Proxy] → [Ingress] → [Service]
</span></span></code></pre></div><p>This enables session-based or token-based access for internal applications using centralized policies.</p>
<h2 id="iam-best-practices-in-multi-tenant-kubernetes-environments">IAM Best Practices in Multi-Tenant Kubernetes Environments<a hidden class="anchor" aria-hidden="true" href="#iam-best-practices-in-multi-tenant-kubernetes-environments">#</a></h2>
<p>When building a multi-tenant environment on Kubernetes or OpenShift, consider:</p>
<ul>
<li>Namespace isolation per tenant</li>
<li>ServiceAccount per application deployment</li>
<li>NetworkPolicy enforcement</li>
<li>Read-only dashboards per team</li>
<li>Use of external IdP claims to drive role bindings dynamically</li>
</ul>
<h2 id="iam-in-cicd-gitops--identity-aware-automation">IAM in CI/CD: GitOps + Identity-Aware Automation<a hidden class="anchor" aria-hidden="true" href="#iam-in-cicd-gitops--identity-aware-automation">#</a></h2>
<p>When applying GitOps or CI/CD workflows (e.g., with ArgoCD, FluxCD, or Jenkins):</p>
<ul>
<li>Ensure your CI agents use <strong>least privilege</strong> via ServiceAccounts</li>
<li>Authenticate against the Kubernetes API using <strong>JWTs from trusted IdPs</strong></li>
<li>Use <strong>short-lived tokens</strong> for automated access</li>
</ul>
<p>This reduces the blast radius in the event of a token leak or compromise.</p>
<h2 id="future-trends-zero-trust-spiffe-and-workload-identity">Future Trends: Zero Trust, SPIFFE, and Workload Identity<a hidden class="anchor" aria-hidden="true" href="#future-trends-zero-trust-spiffe-and-workload-identity">#</a></h2>
<p>The industry is moving toward <strong>zero trust</strong> in cluster environments. Standards like <strong>SPIFFE/SPIRE</strong> enable workload identity with cryptographic guarantees, moving beyond static secrets or tokens.</p>
<p>Expect to see:</p>
<ul>
<li>Wider support for federated identities</li>
<li>Policy-as-code controlling access via claims (OPA/Gatekeeper)</li>
<li>Cluster mesh identity coordination across multi-cloud setups</li>
</ul>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>Both Kubernetes and OpenShift offer powerful IAM capabilities, but OpenShift provides a more integrated experience out of the box, especially for enterprises. Integrating a central identity provider like ForgeRock enhances auditability, security, and usability in complex environments.</p>
<p>By combining external identity platforms with native RBAC, IAM engineers and DevSecOps teams can implement secure, scalable, and manageable access control for Kubernetes-native infrastructure.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.iamdevbox.com/tags/kubernetes/">Kubernetes</a></li>
      <li><a href="https://www.iamdevbox.com/tags/openshift/">Openshift</a></li>
      <li><a href="https://www.iamdevbox.com/tags/iam/">IAM</a></li>
      <li><a href="https://www.iamdevbox.com/tags/devsecops/">DevSecOps</a></li>
      <li><a href="https://www.iamdevbox.com/tags/rbac/">Rbac</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.iamdevbox.com/posts/implementing-fido2-authentication-with-security-keys-in-enterprise-applications/">
    <span class="title">« Prev</span>
    <br>
    <span>Implementing FIDO2 Authentication with Security Keys in Enterprise Applications</span>
  </a>
  <a class="next" href="https://www.iamdevbox.com/posts/how-to-use-yubikey-for-secure-fido2-passwordless-login-in-modern-web-apps/">
    <span class="title">Next »</span>
    <br>
    <span>How to Use YubiKey for Secure FIDO2 Passwordless Login in Modern Web Apps</span>
  </a>
</nav>

  </footer>

  
  

  
  <section class="post-related-articles custom-section">
    <h2 class="custom-section-title">
      Related Articles
    </h2>
    
    
    <ul class="custom-list">
      
      
        
          <li class="custom-list-item">
            <a href="/posts/advanced-forgerock-forgeops-helm-deployment-on-openshift-crc-custom-images-secrets-and-security-contexts/" class="custom-link">
              Advanced ForgeRock ForgeOps Helm Deployment on OpenShift CRC: Custom Images, Secrets, and Security Contexts
            </a>
            <small class="custom-date">2025-06-14</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/deploying-forgerock-forgeops-on-red-hat-openshift-crc-a-step-by-step-guide/" class="custom-link">
              Deploying ForgeRock ForgeOps on Red Hat OpenShift CRC: A Step-by-Step Guide
            </a>
            <small class="custom-date">2025-06-14</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/centralized-logging-and-monitoring-for-kubernetes/" class="custom-link">
              Centralized Logging and Monitoring for Kubernetes
            </a>
            <small class="custom-date">2025-06-12</small>
          </li>
          
        
      
        
      
        
          <li class="custom-list-item">
            <a href="/posts/kubernetes-and-openshift-architecture-differences-and-real-world-use-cases/" class="custom-link">
              Kubernetes and OpenShift: Architecture, Differences, and Real-World Use Cases
            </a>
            <small class="custom-date">2025-06-11</small>
          </li>
          
        
      
        
          <li class="custom-list-item">
            <a href="/posts/orchestrating-kubernetes-and-iam-with-terraform-a-comprehensive-guide/" class="custom-link">
              Orchestrating Kubernetes and IAM with Terraform: A Comprehensive Guide
            </a>
            <small class="custom-date">2025-06-08</small>
          </li>
          
        
      
        
      
        
      

      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
  

  <section class="post-recent-articles custom-section-alt">
    <h2 class="custom-section-title">
      Latest Articles
    </h2>
    
    
    
    <ul class="custom-list">
      
      
        
          
            <li class="custom-list-item">
              <a href="/posts/is-jwt-decoding-safe-on-the-frontend-security-risks-you-should-know/" class="custom-link">
                Is JWT Decoding Safe on the Frontend? Security Risks You Should Know
              </a>
              <small class="custom-date">2025-08-28</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/what-is-a-jwt-and-how-does-it-work-a-developer-friendly-introduction/" class="custom-link">
                What Is a JWT and How Does It Work? A Developer-Friendly Introduction
              </a>
              <small class="custom-date">2025-08-26</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/build-your-own-jwt-decode-online-tool-with-firebase-functions-and-react/" class="custom-link">
                Build Your Own JWT Decode Online Tool with Firebase Functions and React
              </a>
              <small class="custom-date">2025-08-25</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/comparing-the-top-jwt-decode-tools-online-services-vs-local-libraries/" class="custom-link">
                Comparing the Top JWT Decode Tools: Online Services vs Local Libraries
              </a>
              <small class="custom-date">2025-08-14</small>
            </li>
            
          
        
      
        
          
            <li class="custom-list-item">
              <a href="/posts/how-online-jwt-decode-tools-work-build-one-yourself-step-by-step/" class="custom-link">
                How Online JWT Decode Tools Work: Build One Yourself Step-by-Step
              </a>
              <small class="custom-date">2025-08-07</small>
            </li>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>

    
      <div class="custom-more">
        <a href="/posts/" class="custom-link">
          More &raquo;
        </a>
      </div>
    
  </section>
</article>
    </main>
    
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://www.iamdevbox.com/">IAMDevBox</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        window.requestAnimationFrame(() => {
            const savedScroll = localStorage.getItem("menu-scroll-position");
            if (savedScroll !== null) {
            menu.scrollLeft = savedScroll;
            }
        });

        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        };
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
