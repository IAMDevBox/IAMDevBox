<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>All posts | IAMDevBox</title><meta name="description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect."><meta name="author" content="IAMDevBox"><meta name="language" content="en-US">
<meta property="og:locale" content="en_US"><link rel="canonical" href="https://www.iamdevbox.com/posts/"><meta property="og:title" content="All posts | IAMDevBox">
<meta property="og:description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.iamdevbox.com/posts/">
<meta property="og:site_name" content="IAMDevBox">
<meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="IAMDevBox - Identity and Access Management Blog"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="All posts | IAMDevBox">
<meta name="twitter:description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.png"><meta name="twitter:site" content="@iamdevbox"><meta name="twitter:creator" content="@iamdevbox"><meta name="format-detection" content="telephone=no">
<meta name="theme-color" content="#2e2e33"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "IAMDevBox Blog",
  "description": "Technical articles and tutorials on Identity and Access Management",
  "url": "https:\/\/www.iamdevbox.com\/posts\/",
  "publisher": {
    "@type": "Organization",
    "name": "IAMDevBox",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.iamdevbox.com\/IAMDevBox.com.png"
    }
  }
}
</script><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Home",
      "item": "https:\/\/www.iamdevbox.com\/"
    },
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blog",
      "item": "https:\/\/www.iamdevbox.com\/posts\/"
    }]
}
</script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css" integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as="style">


<link rel="icon" href="https://www.iamdevbox.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.iamdevbox.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.iamdevbox.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.iamdevbox.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.iamdevbox.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://www.iamdevbox.com/posts/index.xml">
<link rel="alternate" hreflang="en" href="https://www.iamdevbox.com/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="/css/custom.min.f87e4df74f4f070695effe5d49ae4914eb9228356e4300800036f51859f72d47.css"></noscript>

<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<meta property="og:url" content="https://www.iamdevbox.com/posts/">
  <meta property="og:site_name" content="IAMDevBox">
  <meta property="og:title" content="All posts">
  <meta property="og:description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://www.iamdevbox.com/IAMDevBox.com.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://www.iamdevbox.com/IAMDevBox.com.png">
<meta name="twitter:title" content="All posts">
<meta name="twitter:description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "All posts",
      "item": "https://www.iamdevbox.com/posts/"
    }
  ]
}
</script><meta name="description" content="Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.">
    
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    if (document.querySelector('.mermaid')) {
        const script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";
        script.onload = () => {
        mermaid.initialize({ startOnLoad: true, theme: "default" });
        };
        document.head.appendChild(script);
    }
    });
    </script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6QCH29975"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-B6QCH29975');
    </script>
    
    
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.iamdevbox.com/" accesskey="h" title="IAMDevBox (Alt + H)">IAMDevBox</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.iamdevbox.com/posts/" title="Read articles and updates">
                    <span class="active">Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/tools/" title="Explore developer tools">
                    <span>üß∞Tools</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="https://www.iamdevbox.com/search/" title="Search this site">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://www.iamdevbox.com/">Home</a></div>
  <h1>
    All posts
  </h1>
  <div class="post-description">
    Explore in-depth IAM tutorials, comparisons, and expert guides for ForgeRock, Ping, CyberArk, Keycloak, and other identity platforms. Curated by a certified architect.
  </div>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to Configure SAML IDP and SP in ForgeRock AM
    </h2>
  </header>
  <div class="entry-content">
    <p>ForgeRock Access Management (AM) offers robust support for SAML 2.0, enabling organizations to implement secure Single Sign-On (SSO) across trusted domains. In a SAML setup, the Identity Provider (IDP) authenticates users and issues SAML assertions, while the Service Provider (SP) consumes those assertions to grant access. This blog will guide you step-by-step through setting up both IDP and SP roles using ForgeRock AM. üîêüåç
Understanding SAML Roles in ForgeRock AM Before diving into configuration, it‚Äôs essential to grasp the roles. The IDP authenticates users and provides identity assertions. The SP relies on the IDP to authenticate users and accepts the assertions to authorize access. ForgeRock AM can act as either or both in a federation setup. Understanding the metadata exchange and establishing trust between IDP and SP is fundamental to the configuration process.
...</p>
  </div>
  <footer class="entry-footer">4 min&nbsp;¬∑&nbsp;653 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to How to Configure SAML IDP and SP in ForgeRock AM" href="https://www.iamdevbox.com/posts/how-to-configure-saml-idp-and-sp-in-forgerock-am/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Five Common Pitfalls in SAML Integration You Shouldn‚Äôt Ignore
    </h2>
  </header>
  <div class="entry-content">
    <p>SAML (Security Assertion Markup Language) is widely used for enterprise Single Sign-On (SSO). It defines how identity providers (IdPs) and service providers (SPs) exchange authentication information using signed XML messages. However, integrating SAML in real-world environments ‚Äî especially using platforms like ForgeRock AM ‚Äî can surface tricky and non-obvious issues. Below are five common pitfalls based on practical experience, along with how to avoid them. üöß
1. Time Synchronization Issues Cause Assertion Expiry ‚è±Ô∏è SAML assertions come with time-based validity constraints (NotBefore and NotOnOrAfter). If the clocks between your IdP and SP are not perfectly synchronized, the SP might reject otherwise valid assertions.
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;544 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Five Common Pitfalls in SAML Integration You Shouldn‚Äôt Ignore" href="https://www.iamdevbox.com/posts/five-common-pitfalls-in-saml-integration-you-shouldnt-ignore/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to Install, Configure, and Launch Oracle Cloud Infrastructure (OCI) Free Tier Instances via CLI
    </h2>
  </header>
  <div class="entry-content">
    <p>Oracle Cloud Infrastructure (OCI) offers an always-free tier that includes ARM-based virtual machines (VM.Standard.A1.Flex). However, due to limited regional capacity, launching Free Tier instances through the web console often results in failure. Each failure forces you to manually reselect configurations ‚Äî a time-consuming process. In contrast, the CLI lets you retry instantly with a single command, making it the preferred method when capacity is scarce.
üîß Step 1: Install OCI CLI On macOS with Homebrew:
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;570 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to How to Install, Configure, and Launch Oracle Cloud Infrastructure (OCI) Free Tier Instances via CLI" href="https://www.iamdevbox.com/posts/how-to-install-configure-and-launch-oracle-cloud-infrastructure-oci-free-tier-instances-via-cli/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SAML Security: Digital Signatures, Encryption, and X.509 Certificate Verification
    </h2>
  </header>
  <div class="entry-content">
    <p>Security Assertion Markup Language (SAML) employs robust security mechanisms to ensure secure identity federation. This post examines SAML‚Äôs cryptographic foundations, focusing on XML Digital Signatures, XML Encryption, X.509 certificate verification, and defenses against replay attacks.
1. XML Digital Signatures in SAML SAML messages utilize XML Digital Signature (XML DSig) to guarantee message integrity and authenticity through asymmetric cryptography.
Implementation Details:
Signature Generation: Apply canonicalization (typically Exclusive XML Canonicalization) to normalize the XML structure Generate a message digest using SHA-256 or stronger algorithms Encrypt the digest with the sender‚Äôs private key Embed the signature in a &lt;ds:Signature&gt; element containing: SignedInfo (canonicalization method, signature algorithm, references) SignatureValue KeyInfo (optional X.509 certificate) Verification Process:
...</p>
  </div>
  <footer class="entry-footer">2 min&nbsp;¬∑&nbsp;426 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to SAML Security: Digital Signatures, Encryption, and X.509 Certificate Verification" href="https://www.iamdevbox.com/posts/saml-security-digital-signatures-encryption-and-x509-certificate-verification/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Configuring SAML Login with Spring Security
    </h2>
  </header>
  <div class="entry-content">
    <p>Implementing SAML-based Single Sign-On (SSO) with Spring Security allows applications to delegate authentication to external Identity Providers (IdPs) like Okta, ADFS, or Azure AD. This guide explains how to configure Spring Security‚Äôs SAML Extension, set up local and remote metadata, and map user attributes for seamless integration.
1. Configuring Spring Security SAML Extension Prerequisites Java 8&#43; Spring Boot 2.x/3.x spring-security-saml2-service-provider dependency Step 1: Add Dependencies Include the following in your pom.xml (Maven) or build.gradle (Gradle):
...</p>
  </div>
  <footer class="entry-footer">2 min&nbsp;¬∑&nbsp;424 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Configuring SAML Login with Spring Security" href="https://www.iamdevbox.com/posts/configuring-saml-login-with-spring-security/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Implementing SAML SSO with ForgeRock
    </h2>
  </header>
  <div class="entry-content">
    <p>Single Sign-On (SSO) using SAML (Security Assertion Markup Language) simplifies user authentication by allowing seamless access to multiple applications with a single login. ForgeRock, a leading identity and access management (IAM) platform, provides robust support for SAML-based SSO. This guide covers configuring ForgeRock as an Identity Provider (IdP), uploading Service Provider (SP) metadata, selecting the appropriate NameID format, and demonstrating the authentication flow with HTTP Archive (HAR) captures.
1. Provider Configuration ForgeRock as an Identity Provider (IdP) To set up ForgeRock as an IdP for SAML SSO:
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;589 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Implementing SAML SSO with ForgeRock" href="https://www.iamdevbox.com/posts/implementing-saml-sso-with-forgerock/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Mastering SAML Response Debugging and Troubleshooting Techniques
    </h2>
  </header>
  <div class="entry-content">
    <p>Security Assertion Markup Language (SAML) is a cornerstone protocol in modern federated identity and Single Sign-On (SSO) architectures. While it greatly simplifies the login experience for users, debugging issues with SAML responses can be complex due to cryptographic signatures, strict protocol compliance, and encoding formats. This blog post walks through essential techniques to effectively debug and troubleshoot SAML responses, along with recommended tools and common errors.
üõ†Ô∏è Recommended Tools for Decoding SAML Responses To debug a SAML authentication issue, you must first be able to inspect the raw SAML response. Here are two essential tools every engineer should have:
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;497 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Mastering SAML Response Debugging and Troubleshooting Techniques" href="https://www.iamdevbox.com/posts/mastering-saml-response-debugging-and-troubleshooting-techniques/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Understanding Identity and Access Management (IAM)
    </h2>
  </header>
  <div class="entry-content">
    <p>üîë What is Identity and Access Management (IAM)? Identity and Access Management (IAM) is a framework of policies and technologies that ensures the right individuals have the appropriate access to technology resources. IAM systems are essential for organizations to securely manage digital identities, control access to applications, and ensure data security.
With the increasing number of cyber threats, IAM is becoming a crucial component of any organization‚Äôs security infrastructure.
üîß Why IAM Matters? In today‚Äôs interconnected world, organizations face the challenge of managing numerous users, devices, and applications. IAM provides a centralized way to manage access controls across all these systems, ensuring that only authorized individuals can access sensitive data or perform critical actions.
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;439 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Understanding Identity and Access Management (IAM)" href="https://www.iamdevbox.com/posts/understanding-iam/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Understanding SAML: What It Is and Why It Matters
    </h2>
  </header>
  <div class="entry-content">
    <p>Security Assertion Markup Language (SAML) is an XML-based open standard used for exchanging authentication and authorization data between different security domains. SAML is most commonly used in Single Sign-On (SSO) scenarios, allowing users to access multiple applications or services without the need to log in repeatedly. It has become a critical technology for enabling secure identity management across web-based applications, particularly in enterprise environments and cloud services.
What Are Identity Providers (IdP) and Service Providers (SP)? In the context of SAML, there are two primary roles:
...</p>
  </div>
  <footer class="entry-footer">3 min&nbsp;¬∑&nbsp;628 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Understanding SAML: What It Is and Why It Matters" href="https://www.iamdevbox.com/posts/understanding-saml-what-it-is-and-why-it-matters/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Understanding the Authorization Code Flow in OAuth 2.0
    </h2>
  </header>
  <div class="entry-content">
    <p>OAuth 2.0 is a widely used authorization framework that enables applications to access user data on behalf of the user without requiring the user to share their credentials. It provides a secure and standardized approach to delegating access control, ensuring that applications can interact with various services while keeping user information private. The Authorization Code Flow is one of the core grant types in OAuth 2.0, designed for scenarios where both the client and the authorization server need to exchange information securely.
...</p>
  </div>
  <footer class="entry-footer">5 min&nbsp;¬∑&nbsp;992 words&nbsp;¬∑&nbsp;IAMDevBox</footer>
  <a class="entry-link" aria-label="post link to Understanding the Authorization Code Flow in OAuth 2.0" href="https://www.iamdevbox.com/posts/understanding-the-authorization-code-flow-in-oauth-20/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://www.iamdevbox.com/posts/page/14/">
      ¬´&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://www.iamdevbox.com/posts/page/16/">Next&nbsp;&nbsp;¬ª
    </a>
  </nav>
</footer>
    </main>
    
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://www.iamdevbox.com/">IAMDevBox</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        window.requestAnimationFrame(() => {
            const savedScroll = localStorage.getItem("menu-scroll-position");
            if (savedScroll !== null) {
            menu.scrollLeft = savedScroll;
            }
        });

        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        };
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
